<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å¤©å‘½é‘‘å®š Â· å®—å¸ˆåˆ—ä¼ ï¼ˆçœŸå‡ä»æ ¼Â·æ°”åŠ¿ä¿®æ­£ç‰ˆï¼‰</title>
    <script src="https://cdn.jsdelivr.net/npm/lunar-javascript@1.6.12/lunar.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Serif+SC:wght@300;400;700&display=swap');

        :root {
            --china-red: #8e1818;      /* æ•…å®«æ·±çº¢ */
            --paper-bg: #fdfbf7;       /* æå“å®£çº¸ */
            --ink-main: #1a1a1a;       /* æµ“å¢¨ */
            --ink-light: #555;         /* æ·¡å¢¨ */
            --gold-accent: #cfa972;    /* æ²‰é‡‘ */
            --border-color: #e0d6c9;
            --wood: #2d6a4f; --fire: #c0392b; --earth: #8d6e63; --metal: #d4ac0d; --water: #1f618d;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Noto Serif SC', serif;
            background-color: #eee;
            background-image: url('https://www.transparenttextures.com/patterns/paper-fibers.png');
            color: var(--ink-main); margin: 0; padding: 30px 10px; min-height: 100vh;
            display: flex; justify-content: center;
            line-height: 1.8;
        }

        .container { width: 100%; max-width: 900px; padding-bottom: 150px; }

        /* --- Header --- */
        .header { text-align: center; margin-bottom: 60px; }
        .header h1 { 
            font-family: 'Ma Shan Zheng', cursive; font-size: 4.2rem; margin: 0; 
            color: var(--china-red); letter-spacing: 8px; line-height: 1.2;
            text-shadow: 3px 3px 0px rgba(142, 24, 24, 0.05);
        }
        .header .sub-title {
            font-size: 1.1rem; color: #888; border-top: 1px solid #ccc; border-bottom: 1px solid #ccc;
            display: inline-block; padding: 8px 30px; margin-top: 20px; letter-spacing: 5px; 
            text-transform: uppercase; font-weight: bold;
        }

        /* --- Card --- */
        .card {
            background: var(--paper-bg); border: 1px solid #dcdcdc;
            padding: 40px; margin-bottom: 40px; border-radius: 4px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.05); position: relative;
        }
        .card::before {
            content: ''; position: absolute; top: 6px; left: 6px; right: 6px; bottom: 6px;
            border: 1px solid rgba(0,0,0,0.05); pointer-events: none;
        }

        /* --- Input --- */
        .label { 
            color: var(--china-red); font-size: 1.2rem; margin-bottom: 15px; 
            display: block; font-weight: bold; font-family: 'Ma Shan Zheng', cursive; letter-spacing: 2px;
        }
        .gender-box { display: flex; gap: 15px; margin-bottom: 30px; }
        .g-btn {
            flex: 1; padding: 18px; text-align: center; border: 1px solid #ccc;
            background: #fff; color: #888; cursor: pointer; transition: 0.3s;
            font-family: 'Noto Serif SC', serif; font-weight: bold; font-size: 1.1rem;
        }
        .g-btn.active { 
            border-color: var(--china-red); color: var(--china-red); 
            background: rgba(142, 24, 24, 0.04); box-shadow: inset 0 0 0 1px var(--china-red);
        }
        input[type="datetime-local"] {
            width: 100%; padding: 18px; background: #fff; border: 1px solid #ccc;
            color: var(--ink-main); font-size: 1.2rem; outline: none; font-family: 'Noto Serif SC', serif;
        }
        .btn-start {
            width: 100%; padding: 22px; border: none; background: var(--china-red);
            color: #fff; font-size: 1.5rem; font-weight: 900; letter-spacing: 10px;
            cursor: pointer; margin-top: 30px; transition: all 0.3s;
            font-family: 'Noto Serif SC', serif; box-shadow: 0 15px 30px rgba(142, 24, 24, 0.25);
            position: relative; overflow: hidden;
        }
        .btn-start:hover { transform: translateY(-2px); box-shadow: 0 20px 40px rgba(142, 24, 24, 0.35); }
        .loader {
            display: none; width: 20px; height: 20px; border: 3px solid #fff; 
            border-bottom-color: transparent; border-radius: 50%; 
            animation: spin 1s linear infinite; vertical-align: middle; margin-left: 10px;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        #result-area { display: none; animation: fadeInUp 1s ease; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(50px); } to { opacity: 1; transform: translateY(0); } }

        /* --- Visualization --- */
        .role-header { text-align: center; margin-bottom: 50px; border-bottom: 1px dashed #ccc; padding-bottom: 40px; }
        .role-icon { font-size: 5rem; display: block; margin-bottom: 20px; }
        .role-title { font-family: 'Ma Shan Zheng', cursive; font-size: 3.5rem; color: var(--china-red); margin: 0; line-height: 1.2; text-shadow: 2px 2px 0 #f0e6d2; }
        .role-sub { color: #666; font-size: 1.2rem; margin-top: 15px; font-style: italic; letter-spacing: 1px; }
        .role-tags { display: flex; justify-content: center; gap: 10px; margin-top: 25px; flex-wrap: wrap; }
        .tag { font-size: 0.9rem; padding: 6px 18px; border: 1px solid var(--china-red); color: var(--china-red); font-weight: bold; background: rgba(255,255,255,0.8); }
        .tag.ssr { background: var(--china-red); color: #fff; }

        .activation-box {
            background: #fffaf0; border: 1px dashed var(--gold-accent); border-radius: 8px;
            padding: 25px; margin-bottom: 40px; text-align: center; display: none;
        }
        .activation-title { color: var(--gold-accent); font-weight: 900; font-size: 1.2rem; display: block; margin-bottom: 8px; }
        .activation-desc { font-size: 1.05rem; color: #555; line-height: 1.6; }

        .siling-bar {
            text-align: center; padding: 15px 0; margin-bottom: 40px; 
            color: #555; font-size: 1.1rem; border-top: 3px double #e6e6e6; border-bottom: 3px double #e6e6e6;
        }
        .siling-bar b { color: var(--china-red); margin: 0 8px; font-size: 1.3rem; }

        /* --- Pillars --- */
        .pillars { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 50px; }
        .ofuda { 
            background: #fff; border: 2px solid var(--ink-main); padding: 30px 5px; text-align: center;
            box-shadow: 8px 8px 0px rgba(0,0,0,0.06); position: relative; transition: transform 0.3s;
        }
        .ofuda:hover { transform: translateY(-5px); }
        .ofuda-head { 
            font-size: 1rem; color: #fff; background: var(--ink-main); 
            display: inline-block; padding: 4px 15px; margin-bottom: 20px; 
            font-family: 'Noto Serif SC', serif; letter-spacing: 2px;
        }
        .ofuda-god { font-size: 0.9rem; color: #777; margin-bottom: 12px; display: block; height: 18px; font-weight: bold; }
        .ofuda-char { font-family: 'Ma Shan Zheng', cursive; font-size: 3rem; font-weight: 900; line-height: 1.1; display: block; }
        
        .hidden-stems { 
            margin-top: 15px; border-top: 1px dashed #ddd; padding-top: 10px; 
            display: flex; flex-direction: column; gap: 4px; opacity: 0.85;
        }
        .hs-row { font-size: 0.8rem; color: #555; display: flex; justify-content: center; gap: 6px; align-items: baseline; }
        .hs-gan { font-weight: bold; color: var(--ink-main); font-size: 0.95rem; }
        .hs-god { font-size: 0.7rem; color: #999; transform: scale(0.9); }

        .ofuda-cs {
            margin-top: 15px; padding-top: 8px; border-top: 2px solid var(--china-red);
            font-size: 0.9rem; color: var(--china-red); font-weight: bold; letter-spacing: 1px;
            display: inline-block; font-family: 'Ma Shan Zheng';
        }

        /* --- Charts & Logic --- */
        .wuxing-bar-container { margin-bottom: 50px; padding: 25px; background: #fafafa; border: 1px solid #eee; border-radius: 4px; }
        .wuxing-flex { display: flex; height: 14px; border-radius: 7px; overflow: hidden; margin-top: 15px; }
        .wx-segment { height: 100%; transition: width 1s ease; }
        .wx-legend { display: flex; justify-content: center; gap: 20px; margin-top: 15px; font-size: 0.9rem; color: #666; }
        .dot { display: inline-block; width: 10px; height: 10px; border-radius: 50%; margin-right: 5px; vertical-align: middle; }

        .logic-panel { 
            background: #fffcf5; padding: 40px; margin-bottom: 50px; 
            border-left: 6px solid var(--china-red); position: relative;
        }
        .logic-panel::after { content: 'å¥§ç¾©'; position: absolute; right: 20px; top: 10px; font-size: 5rem; opacity: 0.04; font-family: 'Ma Shan Zheng'; color: var(--china-red); pointer-events: none; }
        .logic-text { 
            font-size: 1.2rem; line-height: 2; color: #333; margin-bottom: 25px; text-align: justify; 
            white-space: pre-wrap; 
        }
        .joy-taboo { display: flex; flex-direction: column; gap: 10px; font-size: 1.1rem; border-top: 1px solid rgba(0,0,0,0.08); padding-top: 25px; }
        .joy { color: #276749; font-weight: bold; }
        .taboo { color: #c0392b; font-weight: bold; }

        /* --- Biography --- */
        .guide-section { border-top: 6px double var(--china-red); padding-top: 60px; }
        .guide-item { margin-bottom: 70px; }
        .guide-title { 
            font-family: 'Ma Shan Zheng', cursive; font-size: 2.2rem; color: var(--china-red); 
            margin-bottom: 30px; display: flex; align-items: center; 
        }
        .guide-title::before { content: 'â—ˆ'; font-size: 1.2rem; margin-right: 15px; color: var(--gold-accent); }
        .guide-text { 
            font-size: 1.25rem; line-height: 2.3; color: #2c2c2c; text-align: justify; 
            text-indent: 2em; letter-spacing: 0.5px;
        }
        .guide-text b { color: var(--china-red); font-weight: 700; background: transparent; padding: 0 4px; border-bottom: 2px solid rgba(142, 24, 24, 0.15); }

        .action-bar { text-align: center; margin-top: 60px; }
        .btn-copy {
            background: #fff; border: 2px solid #ccc; color: #666;
            padding: 15px 40px; cursor: pointer; border-radius: 4px; font-family: inherit;
            transition: 0.3s; font-size: 1rem; font-weight: bold;
        }
        .btn-copy:hover { border-color: var(--china-red); color: var(--china-red); background: #fff5f5; }

        .footer { text-align: center; font-size: 0.8rem; color: #aaa; margin-top: 100px; letter-spacing: 4px; text-transform: uppercase; }
        
        @media (max-width: 600px) {
            .header h1 { font-size: 3rem; }
            .pillars { grid-template-columns: repeat(2, 1fr); gap: 10px; }
            .ofuda-char { font-size: 2.5rem; }
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>é™ç”Ÿé‘‘å®š</h1>
        <div class="sub-title">å®—å¸ˆä¼ è®° Â· ææ„å®Œæ•´ç‰ˆ</div>
    </div>

    <div class="card">
        <div class="form-group">
            <span class="label">ä¹¾å¤ä¹‹é€ </span>
            <div class="gender-box">
                <div class="g-btn active" onclick="setGender(1, this)">ä¹¾é€  (ç”·)</div>
                <div class="g-btn" onclick="setGender(0, this)">å¤é€  (å¥³)</div>
            </div>
        </div>
        <div class="form-group">
            <span class="label">é™ç”Ÿæ—¶åˆ» (å…¬å†)</span>
            <input type="datetime-local" id="birth-input">
        </div>
        <button class="btn-start" onclick="startScan()">
            å¼€å¯ Â· å¤©å‘½å·è½´ <span class="loader" id="loader"></span>
        </button>
    </div>

    <div id="result-area">
        <div class="card">
            <div class="role-header">
                <span id="role-icon" class="role-icon">?</span>
                <h2 id="role-title" class="role-title">é‘‘å®šä¸­...</h2>
                <div id="role-sub" class="role-sub">...</div>
                <div id="role-tags" class="role-tags"></div>
            </div>

            <div class="activation-box" id="activation-area">
                <span class="activation-title" id="activation-status"></span>
                <div class="activation-desc" id="activation-desc"></div>
            </div>

            <div class="siling-bar">
                ğŸ“œ å½“ä»¤çœŸç¥ï¼š<b id="siling-text">...</b>
            </div>

            <div class="pillars" id="pillars-box"></div>

            <div class="wuxing-bar-container">
                <div style="text-align:center; margin-bottom:15px; font-weight:bold; color:#888;">äº”è¡Œæ°”æ•°åˆ†å¸ƒ (å«åœ°æ”¯è—å¹²)</div>
                <div class="wuxing-flex" id="wx-bar"></div>
                <div class="wx-legend">
                    <span><span class="dot" style="background:var(--metal)"></span>é‡‘</span>
                    <span><span class="dot" style="background:var(--wood)"></span>æœ¨</span>
                    <span><span class="dot" style="background:var(--water)"></span>æ°´</span>
                    <span><span class="dot" style="background:var(--fire)"></span>ç«</span>
                    <span><span class="dot" style="background:var(--earth)"></span>åœŸ</span>
                </div>
            </div>

            <div class="logic-panel">
                <div class="label" style="border:none; padding:0; margin-bottom:15px; font-size:1.4rem;">ğŸ”® æ ¼å±€å¥¥ä¹‰</div>
                <div id="pattern-reason" class="logic-text"></div>
                <div class="joy-taboo">
                    <span class="joy">â˜… å–œç”¨ï¼š<span id="txt-joy">...</span></span>
                    <span class="taboo">â˜… å¿Œè®³ï¼š<span id="txt-taboo">...</span></span>
                </div>
            </div>
        </div>

        <div class="card guide-section">
            <div class="guide-item">
                <div class="guide-title">ğŸ® æœ¬çºª Â· å…ƒç¥</div>
                <div class="guide-text" id="dm-desc"></div>
            </div>
            <div id="guide-content"></div>
        </div>

        <div class="action-bar">
            <button class="btn-copy" onclick="copyResult()">ğŸ“¥ ä¿å­˜å¤©å‘½ä¹¦ (å¤åˆ¶å…¨æ–‡)</button>
        </div>

        <div class="footer">FATE AUTHENTICATED BY GRANDMASTER Â· 2025</div>
    </div>
</div>

<script>
    // ==========================================
    // 1. æ ¸å¿ƒå…¨å±€å­—å…¸
    // ==========================================
    let currentGender = 1;

    function safeSetText(id, text) { const el = document.getElementById(id); if (el) el.innerText = text; }
    function safeSetHTML(id, html) { const el = document.getElementById(id); if (el) el.innerHTML = html; }
    function safeSetStyle(id, prop, val) { const el = document.getElementById(id); if (el) el.style[prop] = val; }

    const WX_COLOR_DATA = { 'é‡‘':'#e9c46a', 'æœ¨':'#2a9d8f', 'æ°´':'#264653', 'ç«':'#e76f51', 'åœŸ':'#a67c52' };
    const WUXING_MAP = {'ç”²':'æœ¨','ä¹™':'æœ¨','ä¸™':'ç«','ä¸':'ç«','æˆŠ':'åœŸ','å·±':'åœŸ','åºš':'é‡‘','è¾›':'é‡‘','å£¬':'æ°´','ç™¸':'æ°´','å­':'æ°´','ä¸‘':'åœŸ','å¯…':'æœ¨','å¯':'æœ¨','è¾°':'åœŸ','å·³':'ç«','åˆ':'ç«','æœª':'åœŸ','ç”³':'é‡‘','é…‰':'é‡‘','æˆŒ':'åœŸ','äº¥':'æ°´'};
    const HIDDEN_STEMS = {'å­':['ç™¸'],'ä¸‘':['å·±','ç™¸','è¾›'],'å¯…':['ç”²','ä¸™','æˆŠ'],'å¯':['ä¹™'],'è¾°':['æˆŠ','ä¹™','ç™¸'],'å·³':['ä¸™','æˆŠ','åºš'],'åˆ':['ä¸','å·±'],'æœª':['å·±','ä¸','ä¹™'],'ç”³':['åºš','å£¬','æˆŠ'],'é…‰':['è¾›'],'æˆŒ':['æˆŠ','è¾›','ä¸'],'äº¥':['å£¬','ç”²']};
    const ZHI_MAIN_QI = {'å­':'ç™¸', 'ä¸‘':'å·±', 'å¯…':'ç”²', 'å¯':'ä¹™', 'è¾°':'æˆŠ', 'å·³':'ä¸™', 'åˆ':'ä¸', 'æœª':'å·±', 'ç”³':'åºš', 'é…‰':'è¾›', 'æˆŒ':'æˆŠ', 'äº¥':'å£¬'};
    const YANG_REN_MAP = {'ç”²':'å¯', 'ä¸™':'åˆ', 'æˆŠ':'åˆ', 'åºš':'é…‰', 'å£¬':'å­'};
    
    const SHISHEN_MAP = {"ç”²":{"ç”²":"æ¯”è‚©","ä¹™":"åŠ«è´¢","ä¸™":"é£Ÿç¥","ä¸":"ä¼¤å®˜","æˆŠ":"åè´¢","å·±":"æ­£è´¢","åºš":"ä¸ƒæ€","è¾›":"æ­£å®˜","å£¬":"åå°","ç™¸":"æ­£å°"},"ä¹™":{"ä¹™":"æ¯”è‚©","ç”²":"åŠ«è´¢","ä¸":"é£Ÿç¥","ä¸™":"ä¼¤å®˜","å·±":"åè´¢","æˆŠ":"æ­£è´¢","è¾›":"ä¸ƒæ€","åºš":"æ­£å®˜","ç™¸":"åå°","å£¬":"æ­£å°"},"ä¸™":{"ä¸™":"æ¯”è‚©","ä¸":"åŠ«è´¢","æˆŠ":"é£Ÿç¥","å·±":"ä¼¤å®˜","åºš":"åè´¢","è¾›":"æ­£è´¢","å£¬":"ä¸ƒæ€","ç™¸":"æ­£å®˜","ç”²":"åå°","ä¹™":"æ­£å°"},"ä¸":{"ä¸":"æ¯”è‚©","ä¸™":"åŠ«è´¢","å·±":"é£Ÿç¥","æˆŠ":"ä¼¤å®˜","è¾›":"åè´¢","åºš":"æ­£è´¢","ç™¸":"ä¸ƒæ€","å£¬":"æ­£å®˜","ä¹™":"åå°","ç”²":"æ­£å°"},"æˆŠ":{"æˆŠ":"æ¯”è‚©","å·±":"åŠ«è´¢","åºš":"é£Ÿç¥","è¾›":"ä¼¤å®˜","å£¬":"åè´¢","ç™¸":"æ­£è´¢","ç”²":"ä¸ƒæ€","ä¹™":"æ­£å®˜","ä¸™":"åå°","ä¸":"æ­£å°"},"å·±":{"å·±":"æ¯”è‚©","æˆŠ":"åŠ«è´¢","è¾›":"é£Ÿç¥","åºš":"ä¼¤å®˜","ç™¸":"åè´¢","å£¬":"æ­£è´¢","ä¹™":"ä¸ƒæ€","ç”²":"æ­£å®˜","ä¸":"åå°","ä¸™":"æ­£å°"},"åºš":{"åºš":"æ¯”è‚©","è¾›":"åŠ«è´¢","å£¬":"é£Ÿç¥","ç™¸":"ä¼¤å®˜","ç”²":"åè´¢","ä¹™":"æ­£è´¢","ä¸™":"ä¸ƒæ€","ä¸":"æ­£å®˜","æˆŠ":"åå°","å·±":"æ­£å°"},"è¾›":{"è¾›":"æ¯”è‚©","åºš":"åŠ«è´¢","ç™¸":"é£Ÿç¥","å£¬":"ä¼¤å®˜","ä¹™":"åè´¢","ç”²":"æ­£è´¢","ä¸":"ä¸ƒæ€","ä¸™":"æ­£å®˜","å·±":"åå°","æˆŠ":"æ­£å°"},"å£¬":{"å£¬":"æ¯”è‚©","ç™¸":"åŠ«è´¢","ç”²":"é£Ÿç¥","ä¹™":"ä¼¤å®˜","ä¸™":"åè´¢","ä¸":"æ­£è´¢","æˆŠ":"ä¸ƒæ€","å·±":"æ­£å®˜","åºš":"åå°","è¾›":"æ­£å°"},"ç™¸":{"ç™¸":"æ¯”è‚©","å£¬":"åŠ«è´¢","ä¹™":"é£Ÿç¥","ç”²":"ä¼¤å®˜","ä¸":"åè´¢","ä¸™":"æ­£è´¢","å·±":"ä¸ƒæ€","æˆŠ":"æ­£å®˜","è¾›":"åå°","åºš":"æ­£å°"}};
    
    const SILING_RULES = {'å¯…': [['æˆŠ',7], ['ä¸™',7], ['ç”²',16]], 'å¯': [['ç”²',10], ['ä¹™',20]], 'è¾°': [['ä¹™',9], ['ç™¸',3], ['æˆŠ',18]], 'å·³': [['æˆŠ',5], ['åºš',9], ['ä¸™',16]], 'åˆ': [['ä¸™',10], ['å·±',9], ['ä¸',11]], 'æœª': [['ä¸',9], ['ä¹™',3], ['å·±',18]], 'ç”³': [['æˆŠ',7], ['å£¬',7], ['åºš',16]], 'é…‰': [['åºš',10], ['è¾›',20]], 'æˆŒ': [['è¾›',9], ['ä¸',3], ['æˆŠ',18]], 'äº¥': [['æˆŠ',7], ['ç”²',5], ['å£¬',18]], 'å­': [['å£¬',10], ['ç™¸',20]], 'ä¸‘': [['ç™¸',9], ['è¾›',3], ['å·±',18]]};
    
    // ä¸¥æ ¼æ ¹æ°”å®šä¹‰ï¼ˆæ’é™¤ä½™æ°”ï¼Œåªè®ºæœ¬æ°”å’Œä¸­æ°”æœ‰åŠ›è€…ï¼‰
    const ROOT_MAP = {'ç”²':['å¯…','å¯','äº¥','è¾°','æœª'], 'ä¹™':['å¯','å¯…','è¾°','æœª','äº¥'], 'ä¸™':['å·³','åˆ','å¯…','æˆŒ'], 'ä¸':['åˆ','å·³','æœª','æˆŒ','å¯…'], 'æˆŠ':['è¾°','æˆŒ','ä¸‘','æœª','å·³','åˆ'], 'å·±':['ä¸‘','æœª','è¾°','æˆŒ','åˆ','å·³'], 'åºš':['ç”³','é…‰','å·³','ä¸‘'], 'è¾›':['é…‰','ç”³','ä¸‘','å·³'], 'å£¬':['äº¥','å­','ç”³','è¾°'], 'ç™¸':['å­','äº¥','è¾°','ä¸‘','ç”³']};
    
    const CHANGSHENG_TABLE = {"ç”²":{"äº¥":"é•¿ç”Ÿ","å­":"æ²æµ´","ä¸‘":"å† å¸¦","å¯…":"ä¸´å®˜","å¯":"å¸æ—º","è¾°":"è¡°","å·³":"ç—…","åˆ":"æ­»","æœª":"å¢“","ç”³":"ç»","é…‰":"èƒ","æˆŒ":"å…»"},"ä¹™":{"åˆ":"é•¿ç”Ÿ","å·³":"æ²æµ´","è¾°":"å† å¸¦","å¯":"ä¸´å®˜","å¯…":"å¸æ—º","ä¸‘":"è¡°","å­":"ç—…","äº¥":"æ­»","æˆŒ":"å¢“","é…‰":"ç»","ç”³":"èƒ","æœª":"å…»"},"ä¸™":{"å¯…":"é•¿ç”Ÿ","å¯":"æ²æµ´","è¾°":"å† å¸¦","å·³":"ä¸´å®˜","åˆ":"å¸æ—º","æœª":"è¡°","ç”³":"ç—…","é…‰":"æ­»","æˆŒ":"å¢“","äº¥":"ç»","å­":"èƒ","ä¸‘":"å…»"},"ä¸":{"é…‰":"é•¿ç”Ÿ","ç”³":"æ²æµ´","æœª":"å† å¸¦","åˆ":"ä¸´å®˜","å·³":"å¸æ—º","è¾°":"è¡°","å¯":"ç—…","å¯…":"æ­»","ä¸‘":"å¢“","å­":"ç»","äº¥":"èƒ","æˆŒ":"å…»"},"æˆŠ":{"å¯…":"é•¿ç”Ÿ","å¯":"æ²æµ´","è¾°":"å† å¸¦","å·³":"ä¸´å®˜","åˆ":"å¸æ—º","æœª":"è¡°","ç”³":"ç—…","é…‰":"æ­»","æˆŒ":"å¢“","äº¥":"ç»","å­":"èƒ","ä¸‘":"å…»"},"å·±":{"é…‰":"é•¿ç”Ÿ","ç”³":"æ²æµ´","æœª":"å† å¸¦","åˆ":"ä¸´å®˜","å·³":"å¸æ—º","è¾°":"è¡°","å¯":"ç—…","å¯…":"æ­»","ä¸‘":"å¢“","å­":"ç»","äº¥":"èƒ","æˆŒ":"å…»"},"åºš":{"å·³":"é•¿ç”Ÿ","åˆ":"æ²æµ´","æœª":"å† å¸¦","ç”³":"ä¸´å®˜","é…‰":"å¸æ—º","æˆŒ":"è¡°","äº¥":"ç—…","å­":"æ­»","ä¸‘":"å¢“","å¯…":"ç»","å¯":"èƒ","è¾°":"å…»"},"è¾›":{"å­":"é•¿ç”Ÿ","äº¥":"æ²æµ´","æˆŒ":"å† å¸¦","é…‰":"ä¸´å®˜","ç”³":"å¸æ—º","æœª":"è¡°","åˆ":"ç—…","å·³":"æ­»","è¾°":"å¢“","å¯":"ç»","å¯…":"èƒ","ä¸‘":"å…»"},"å£¬":{"ç”³":"é•¿ç”Ÿ","é…‰":"æ²æµ´","æˆŒ":"å† å¸¦","äº¥":"ä¸´å®˜","å­":"å¸æ—º","ä¸‘":"è¡°","å¯…":"ç—…","å¯":"æ­»","è¾°":"å¢“","å·³":"ç»","åˆ":"èƒ","æœª":"å…»"},"ç™¸":{"å¯":"é•¿ç”Ÿ","å¯…":"æ²æµ´","ä¸‘":"å† å¸¦","å­":"ä¸´å®˜","äº¥":"å¸æ—º","æˆŒ":"è¡°","é…‰":"ç—…","ç”³":"æ­»","æœª":"å¢“","åˆ":"ç»","å·³":"èƒ","è¾°":"å…»"}};

    // ==========================================
    // 2. æ–‡æ¡ˆåº“ (Updated)
    // ==========================================
    const GAME_DB = {
        "çœŸä»è´¢æ ¼": { name: "ğŸ’° é™¶æœ±å†ä¸– (çœŸ)", tags: ["SSR","å·¨å¯Œ"], icon: "ğŸ§§", slogan: "èˆæˆ‘å…¶è°ï¼Œå¯Œç”²ä¸€æ–¹ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> çœŸä»è´¢æ ¼ï¼Œæ—¥ä¸»æ— æ ¹æ— æ°”ï¼Œæ»¡ç›˜è´¢æ˜Ÿã€‚ä½ å¤©ç”Ÿå°±æ˜¯é‡‘é’±çš„å® å„¿ï¼Œå¯¹å•†ä¸šæœ‰ç€è¿‘ä¹ç›´è§‰çš„æ•æ„Ÿã€‚ä½ é€‚åˆåœ¨é‡‘èã€æŠ•èµ„ã€å¤§å‹å•†ä¸šè¿ä½œä¸­å¤§å±•æ‹³è„šã€‚ä½ æ‡‚å¾—é¡ºåº”å±€åŠ¿ï¼Œæ¯«æ— åŒ…è¢±ï¼Œæ‰€ä»¥èƒ½æˆå¤§ä¸šã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> å·¨å¯Œä¹‹å‘½ã€‚è´¢æ°”é€šé—¨æˆ·ï¼Œä¸”æ— æ‚è´¨ã€‚ä½ çš„è´¢å¯Œç§¯ç´¯é€Ÿåº¦æå¿«ï¼Œå¾€å¾€æ˜¯çˆ†å‘å¼çš„ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> æƒ§å†…å¾—ç¦ã€‚å¦»å­æ˜¯ä½ å‘½ä¸­çš„è¶…çº§è´µäººï¼Œå¬è€å©†è¯ä¼šå‘å¤§è´¢ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> ç»§æ‰¿å®¶ä¸šï¼Œå­å­™æ»¡å ‚ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> æœ€å¿Œè¡Œæ¯”åŠ«è¿ï¼ˆå…„å¼Ÿæœ‹å‹å¤ºè´¢ï¼‰æˆ–å°è¿ï¼ˆç”Ÿèº«ç ´æ ¼ï¼‰ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> è±ªé—¨ä¸»æ¯ã€‚æˆ–è€…è‡ªå·±å°±æ˜¯å•†ä¸šå¥³çš‡ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> æ—ºå¤«ç›Šå­ï¼Œå¯Œè´µåŒå…¨ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> ä¸ˆå¤«æå¯Œï¼Œç”Ÿæ´»ä¼˜æ¸¥ã€‚", k:"<b>[ä¼ æ‰¿]</b> è´µå­ã€‚", h:"<b>[é”¦å›Š]</b> ä¿æŒèº«æï¼Œå¯Œè´µç—…é£é™©ã€‚" } },
        
        "å‡ä»è´¢æ ¼": { name: "ğŸ’¸ æµ®æ²‰å¯Œå®¢ (å‡)", tags: ["SR","é™©å¯Œ"], icon: "ğŸ’¸", slogan: "éšæ³¢é€æµï¼Œé™©ä¸­æ±‚è´¢ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> æ—¥ä¸»æ— æ ¹ï¼ˆå¦‚åºšç”Ÿäº¥å¯æœˆï¼‰ï¼Œæ»¡ç›˜è´¢æ°”ï¼Œæœ¬åº”ä»è´¢ï¼Œä½†å¤©å¹²é€å‡ºå¾®å¼±å°æ¯”ï¼ˆå¦‚è™šæµ®çš„è¾›é‡‘ã€å·±åœŸï¼‰ã€‚ä½ æƒ³ä»åˆæ”¾ä¸ä¸‹èº«æ®µï¼Œæˆ–è€…æ€»æœ‰å°äººï¼ˆå¾®å¼±çš„æ¯”åŠ«ï¼‰ä½œç¥Ÿã€‚ä½ ä¹Ÿèƒ½å‘è´¢ï¼Œä½†å¤šæœ‰èµ·ä¼ï¼Œå®¹æ˜“â€œè´¢æ¥è´¢å»â€ã€‚é€‚åˆä¾é™„å¼ºè€…ï¼ŒåšäºŒæŠŠæ‰‹ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> æŠ•æœºè‡´å¯Œã€‚ä½ çš„è´¢è¿å¾€å¾€å¸¦æœ‰é£é™©ï¼Œå¥½è¿æ—¶å¯Œå¯æ•Œå›½ï¼Œåè¿æ—¶ä¸€è½åƒä¸ˆã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> æ„Ÿæƒ…æ³¢æŠ˜ã€‚å®¹æ˜“å› ä¸ºé’±è´¢æˆ–åœ°ä½è€Œåœ¨æ­¤æ¶ˆå½¼é•¿ä¸­çº ç»“ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> å› å­å¥³è€Œè´µï¼Œä¹Ÿå› å­å¥³è€Œç´¯ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> éœ€è¿åŠ¿é…åˆå»é™¤é‚£ä¸€ä¸â€œæ‚æ°”â€æ–¹èƒ½å¤§å¯Œã€‚æœ€å¿Œæ—¥ä¸»å¾—æ ¹çš„å¹´ä»½ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> äº¤é™…ååª›ã€‚åœ¨ååˆ©åœºä¸­æ¸¸èµ°ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> éœ€å€ŸåŠ›æ‰“åŠ›ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> æ¡ƒèŠ±å¤šä½†éš¾å®šã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> æ“å¿ƒã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> æ³¨æ„å¿ƒç†å¹³è¡¡ã€‚" } },

        "çœŸä»æ€æ ¼": { name: "âš–ï¸ æƒå€¾å¤©ä¸‹ (çœŸ)", tags: ["SSR","æè´µ"], icon: "ğŸ›ï¸", slogan: "èˆèº«å–ä¹‰ï¼Œå¨éœ‡å››æµ·ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> æ»¡ç›˜å®˜æ€ï¼Œæ—¥ä¸»å¼ƒå‘½ä»æ€ã€‚ä¸ºäº†ç›®æ ‡å¯ä»¥ç‰ºç‰²ä¸€åˆ‡è‡ªæˆ‘ã€‚ä½ æå…·æ”¿æ²»å¤´è„‘ï¼Œå¤©ç”Ÿå°±æ˜¯æƒåŠ›çš„è¿½é€è€…å’ŒæŒæ§è€…ã€‚é€‚åˆæ”¿ç•Œã€å†›ç•Œé«˜å±‚ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> æƒé’±äº¤æ˜“ã€‚åœ°ä½å¸¦æ¥è´¢å¯Œï¼Œåå£°é‡äºåˆ©ç›Šã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> æ”€é™„æƒè´µï¼Œæˆ–å¨¶è´µå¦»ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> åä»£æ˜¾èµ«ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> å‹åŠ›è¿‡å¤§ã€‚æ³¨æ„å¿ƒè„ã€‚æœ€å¿Œé£Ÿä¼¤åˆ¶æ€ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> è¯°å‘½å¤«äººã€‚ä¸ˆå¤«æå…¶ä¼˜ç§€ï¼Œå¤«è£å¦»è´µã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> äº«æœ‰ä¸ˆå¤«çš„è£å…‰ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> ä¾é™„å¼ºè€…ï¼Œå…¨å¿ƒå…¨æ„ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> ç²¾è‹±æ•™è‚²ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> æŠ‘éƒé£é™©ã€‚" } },

        "å‡ä»æ€æ ¼": { name: "âš”ï¸ ä¹±ä¸–æ­é›„ (å‡)", tags: ["SR","æƒè°‹"], icon: "ğŸ—¡ï¸", slogan: "æ—¶åŠ¿é€ è‹±é›„ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> è™½ä»æ€ï¼Œä½†æœ‰å¾®æ ¹æˆ–å¾®å°ã€‚è¯´æ˜ä½ å†…å¿ƒå¹¶ä¸å®Œå…¨æœä»ï¼Œå¸¸æœ‰â€œé€ åâ€ä¹‹å¿ƒæˆ–æ— å¥ˆä¹‹ä¸¾ã€‚ä½ å¤šåœ¨å¼‚è·¯åŠŸåä¸­å‘å±•ï¼Œå¦‚é»‘ç™½ä¸¤é“ã€ç‰¹æ®Šéƒ¨é—¨ã€‚äººç”Ÿå¤§èµ·å¤§è½ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> é™©ä¸­æ±‚èƒœã€‚å¯Œè´µé™©ä¸­æ±‚ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> æ„Ÿæƒ…å¤æ‚ï¼Œçˆ±æ¨äº¤ç»‡ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> å›é€†ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> æé˜²ç‰¢ç‹±æˆ–å®˜éã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> åˆšçƒˆå¥³å­ã€‚è™½å«è´µå¤«ï¼Œä½†å©šå§»å¤šäº‰åµã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> ç‹¬ç«‹æŒæƒã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> è™æ‹æƒ…æ·±ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> ä¸¥æ¯ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> è‚èƒ†å¥åº·ã€‚" } },

        "çœŸä»å„¿æ ¼": { name: "ğŸŒŸ ç»ä»£æ‰å­ (çœŸ)", tags: ["SSR","åæµ"], icon: "ğŸ¨", slogan: "æ‰åæ¨ªæº¢ï¼Œé¡ºåŠ¿æµèŠ³ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> æ»¡ç›˜é£Ÿä¼¤ï¼Œæ—¥ä¸»æ— æ ¹ã€‚ä½ æ˜¯ä¸€ä»£æ‰å­ï¼Œæ‰åå¦‚æ±Ÿæ²³å¥”æ¶Œï¼Œä¸å¯éæ­¢ã€‚é€‚åˆè‰ºæœ¯ã€æ¼”è‰ºã€å­¦æœ¯ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> æŠ€è‰ºç”Ÿè´¢ï¼Œååˆ©åŒæ”¶ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> æµªæ¼«å¤šæƒ…ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> æ™šå¹´äº«ç¦ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> å¿Œå°æ˜Ÿå…‹åˆ¶ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> è‰ºæœ¯å¥³ç¥ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> ç²‰ä¸ç»æµã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> æ³¨é‡ç²¾ç¥ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> æ¯å‡­å­è´µã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> æƒ…ç»ªåŒ–ã€‚" } },
        
        "å‡ä»å„¿æ ¼": { name: "ğŸ­ æ€€æ‰ä¸é‡ (å‡)", tags: ["SR","æ‰æƒ…"], icon: "ğŸ­", slogan: "å¿ƒæ¯”å¤©é«˜ï¼Œå‘½é€”å¤šèˆ›ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> è™½æœ‰æ‰åï¼Œä½†å±€ä¸­å°æ˜Ÿå¹²æ‰°ï¼Œå¸¸æ„Ÿæ€€æ‰ä¸é‡ï¼Œæˆ–æ‰åæ— æ³•å˜ç°ã€‚éœ€è¦è¿åŠ¿å»å°æ–¹èƒ½çˆ†å‘ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> è¾›è‹¦é’±ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> å” å¨ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> æ“åŠ³ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> åŠ¡å®ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> åŠ³ç¢Œå‘½ã€‚ä¸ºå­å¥³æ“ç¢å¿ƒã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> ç§¯å°‘æˆå¤šã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> æŒ‘å‰”ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> æººçˆ±ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> ç„¦è™‘ã€‚" } },

        "é‡‘æ°´ä¼¤å®˜": { name: "â„ï¸ å¯’å†°å‰‘ä»™", tags: ["SSR","æè´µ"], icon: "ğŸ—¡ï¸", slogan: "é‡‘å¯’æ°´å†·ï¼Œå”¯ç«æš–å¿ƒã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> é‡‘æ°´ä¼¤å®˜è€…ï¼Œä¹ƒæ˜¯å¤©åœ°é—´æœ€é”‹åˆ©çš„â€œæ€è€ƒæœºå™¨â€ã€‚ä½ çš„è„‘åŠ›å¦‚æ·±æ¸Šèˆ¬ä¸å¯æµ‹ï¼Œæ€ç»´å¦‚å†°åˆ€åˆ‡å¼€å¤æ‚æ ¸å¿ƒã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> éšä½è€Œç”Ÿã€‚ä½ çš„è´¢è¿é€šå¸¸ä¼´éšç€ä½ çš„ç¤¾ä¼šåœ°ä½è€Œæ¥ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> å†…å¿ƒå¦‚å†°å±±ï¼Œå¤–è¡¨æˆ–å¥è°ˆæˆ–é£æµï¼Œå®åˆ™æéš¾åŠ¨æƒ…ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> å­©å­èªæ˜è¿‡äººï¼Œå¤šä¸ºå­¦éœ¸ç²¾è‹±ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> å¿…ç”¨ç«è°ƒå€™ã€‚å¤šç©¿çº¢è¡£ï¼Œå®œå‘å—æ–¹å‘å±•ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> å†°å±±ç¾äººã€‚æ‰è²ŒåŒå…¨ï¼Œæ°”è´¨æ¸…å†½è„±ä¿—ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> å¤«è£å¦»è´µã€‚ç«ä¸ºå¤«æ˜Ÿä¸ä»…æ˜¯çˆ±äººï¼Œæ›´æ˜¯ä½ çš„å‘½ä¸­çœŸç¥ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> ç‹¬å–œå®˜æ˜Ÿå‘µæŠ¤ã€‚", k:"<b>[ä¼ æ‰¿]</b> å­å¥³çµåŠ¨ç§€æ°”ã€‚", h:"<b>[é”¦å›Š]</b> æš–å®«é©±å¯’ï¼Œå°‘é£Ÿç”Ÿå†·ã€‚" } },
        "é‡‘æ°´é£Ÿç¥": { name: "ğŸŒŠ çµåŠ¨æ™ºè€…", tags: ["SSR","æ¸…è´µ"], icon: "ğŸŒŠ", slogan: "é‡‘ç™½æ°´æ¸…ï¼Œæ‰æ€æ³‰æ¶Œã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> å†…ç§€ä¹¾å¤ã€‚ä½ æ˜¯çº¯ç²¹çš„å­¦æœ¯æˆ–è‰ºæœ¯å¤©æ‰ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> æŠ€è‰ºç”Ÿè´¢ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> çµé­‚çŸ¥å·±ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> èªæ…§éº’éºŸã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> è¡¥ç«æš–å±€ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> è„±ä¿—ç™½æœˆå…‰ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> å°ç¡®å¹¸ä¸æ–­ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> å¯’è°·å›æ˜¥ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> å­å¥³å­é¡ºã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> ä¿æŒå¿ƒæƒ…æ„‰å¿«ã€‚" } },
        "æœ¨ç«é€šæ˜": { name: "ğŸ”¥ è–ªç«ä¼ äºº", tags: ["SSR","åæœ›"], icon: "ğŸ”¥", slogan: "æœ¨ç«äº¤è¾‰ï¼Œå…‰è€€åƒç§‹ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> æ–‡æ˜Œé™ä¸–ã€‚ä½ æ˜¯å¤©ç”Ÿçš„å­¦è€…ã€ä½œå®¶ã€æ€æƒ³å®¶ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> ååˆ©åŒæ”¶ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> çµé­‚çŸ¥éŸ³ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> ä¹¦é¦™é—¨ç¬¬ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> æŠ¤çœ¼å…»å¿ƒã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> æ‰å¥³ä¸‹å‡¡ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> æ¸…è´µä¹‹è´¢ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> æ™šå©šæˆ–ä¸å©šã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> ä¼˜ç”Ÿä¼˜è‚²ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> æ³¨æ„å¿ƒè¡€ç®¡ã€‚" } },
        "ä¼¤å®˜é…å°": { name: "ğŸ”® æ™ºè€…ç¥å¯", tags: ["UR","æ™ºæ…§"], icon: "ğŸ“œ", slogan: "çƒˆç«çƒ¹æ²¹ï¼Œæ·±æ°´é™æµã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> ä½ çš„æ ¼å±€ï¼Œæ˜¯â€œç‹‚æ‰â€ä¸â€œç†æ€§â€çš„å®Œç¾è”å§»ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> çŸ¥è¯†è‡´å¯Œã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> ç²¾ç¥çŸ¥éŸ³ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> ä¹¦é¦™é—¨ç¬¬ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> æ³¨æ„é¢„é˜²ç¥ç»è¡°å¼±ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> é«˜çŸ¥å¥³ç¥ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> è´µäººè¿æä½³ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> å¸®å¤«è¿æå¼ºã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> å¤©ç”Ÿè´µæ°”ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> é‡æ»‹é˜´ã€‚" } },
        "ä¼¤å®˜åˆæ€": { name: "âš¡ å±æœºç»ˆç»“è€…", tags: ["SSR","æƒè°‹"], icon: "âš”ï¸", slogan: "æ··ä¹±æ˜¯é˜¶æ¢¯ï¼Œæƒè°‹æ˜¯åˆ©åˆƒã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> ä¹±ä¸–æ­é›„ã€‚è¶Šæ··ä¹±è¶Šèƒ½æ¿€å‘æ½œèƒ½ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> çˆ†å‘åŠ›æå¼ºã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> åŠ¿å‡åŠ›æ•Œã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> å›é€†å¤©æ‰ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> å­¦ä¼šå¼ºåˆ¶å…³æœºã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> èŒåœºé“å¨˜å­ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> åæ°”å³è´¢æ°”ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> æ…•å¼ºã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> ç²¾è‹±æ•™è‚²ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> è‚ç«æ˜“æ—ºã€‚" } },
        "é£Ÿç¥åˆ¶æ€": { name: "ğŸ¦ é“è…•ç»Ÿå¸…", tags: ["SSR","å¨æƒ"], icon: "ğŸ¦", slogan: "ä»¥æ™ºåˆ¶æš´ï¼Œæƒå¨ç«‹èº«ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> ä¸æ€’è‡ªå¨ã€‚è§£å†³ç¡¬æ ¸éš¾é¢˜çš„é«˜æ‰‹ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> èµ„å†åŠ æˆã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> ä¸€å®¶ä¹‹ä¸»ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> æ ‹æ¢ä¹‹æã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> æ§åˆ¶è„¾æ°”ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> é€»è¾‘å¥³ç‹ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> è´¢æ”¿å¤§è‡£ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> ä¸¥å¦»ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> è´´å¿ƒæ£‰è¢„ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> ä¿æŠ¤è‚ èƒƒã€‚" } },
        "æ€å°ç›¸ç”Ÿ": { name: "ğŸ‘‘ æƒæŸ„æ‰§æŒè€…", tags: ["UR","æŒæƒ"], icon: "ğŸ›¡ï¸", slogan: "åŒ–ç…ä¸ºæƒï¼Œå¨éœ‡å››æ–¹ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> æä½³çš„é¢†å¯¼åŠ›ä¸æŠ—å‹æ€§ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> æƒä¸­å–åˆ©ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> è´¤å†…åŠ©ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> æ˜¾è´µåé—¨ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> é˜²è¿‡åŠ³ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> å¥³çš‡é£èŒƒã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> ç§¯ç´¯æ·±åšã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> è´µå¤«ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> ä¸¥æ¯æ•™å­ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> è°ƒç†è‚èƒ†ã€‚" } },
        "æ­£è´¢æ ¼": { name: "ğŸ§± å‹¤å‹‰ç­‘æ¢¦å¸ˆ", tags: ["R+","ç¨³å¥"], icon: "ğŸœ", slogan: "ä¸€ç –ä¸€ç“¦ï¼Œèšæ²™æˆå¡”ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> éš¾å¾—çš„â€œåŸºçŸ³â€ã€‚å‹¤åŠ³è‡´å¯Œã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> å¤åˆ©è‡´å¯Œã€‚ç§¯å°‘æˆå¤šã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> å® å¦»ç‹‚é­”ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> æœ´å®å®¶é£ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> åˆ«ä¸ºäº†çœé’±è€Œèˆä¸å¾—ä½“æ£€ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> å¤©ç”Ÿçš„â€œç®¡å®¶å©†â€ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> å­˜é’±ç½ã€‚CFOã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> è´¤æƒ æŒå®¶ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> ä¸¥æ¯ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> å®¹æ˜“æ°”è¡€ä¸è¶³ã€‚" } },
        "åè´¢æ ¼": { name: "ğŸ© å•†ä¸šå¤§äº¨", tags: ["SSR","æ¨ªè´¢"], icon: "ğŸ’", slogan: "é’±æ˜¯èµšå‡ºæ¥çš„ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> èµ„æºæ•´åˆä¸“å®¶ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> æŠ•æœºè·åˆ©ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> æ¡ƒèŠ±åŠ«ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> åŸ¹å…»è´¢å•†ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> æŠ¤è‚ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> å•†åŠ¡å…¬å…³ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> èƒ½èµšä¼šèŠ±ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> æ‹©ä¼˜ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> è´µæ—åŸ¹å…»ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> é˜²å¯Œè´µç—…ã€‚" } },
        "æ­£å®˜æ ¼": { name: "âš–ï¸ ç§©åºå®ˆæŠ¤è€…", tags: ["SR","ç¨³å¥"], icon: "ğŸ›ï¸", slogan: "è§„åˆ™æ˜¯åŸºçŸ³ï¼Œç¨³æ­¥ç™»é¡¶ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> å¤©ç”Ÿåƒçš‡ç²®çš„å‘½ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> æ­£è´¢ç¨³å›ºã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> é—¨å½“æˆ·å¯¹ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> è§„çŸ©æ‡‚äº‹ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> å®¹æ˜“ç„¦è™‘ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> å®Œç¾ç®¡å®¶ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> è´¢åŠ¡ç¨³å®šã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> æ—ºå¤«ä½“è´¨ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> æ•™å­æœ‰æ–¹ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> é¿å…ä¹…åã€‚" } },
        "ä¸ƒæ€æ ¼": { name: "ğŸ”¥ å­¤èƒ†è‹±é›„", tags: ["SSR","ææ€"], icon: "ğŸš€", slogan: "äººç”Ÿå°±æ˜¯æ— é™çš„æˆ˜æ–—ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> æ”»åšèƒ½æ‰‹ã€‚ä¸ºæŒ‘æˆ˜è€Œç”Ÿã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> é™©ä¸­æ±‚èƒœã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> çƒˆç«æƒ…äººã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> ä¸¥çˆ¶ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> æ˜“æœ‰å¤–ä¼¤ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> ä¸šåŠ¡ä¸€å§ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> èµšé’±æœºå™¨ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> éœ¸æ€»æ”¶å‰²æœºã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> è¶…äººå¦ˆå¦ˆã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> å®¹æ˜“é•¿ç»“èŠ‚ã€‚" } },
        "æ­£å°æ ¼": { name: "ğŸ“œ åœ£è´¤å¯¼å¸ˆ", tags: ["SR","å®ˆæŠ¤"], icon: "ğŸ™", slogan: "ä½†è¡Œå¥½äº‹ï¼Œè«é—®å‰ç¨‹ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> è´µäººæ‰¶æŒã€‚å·¥ä½œæ¸…é—²ç¦åˆ©å¥½ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> æ¸…è´µä¹‹è´¢ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> ä¾èµ–ä¼´ä¾£ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> çŸ¥ä¹¦è¾¾ç†ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> é˜²è‚¥èƒ–ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> å²æœˆé™å¥½ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> å¤©ç”Ÿç¦å‘½ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> è¢«å® æººã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> äº²å­å¦‚å‹ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> æ’æ¹¿ã€‚" } },
        "åå°æ ¼": { name: "ğŸ‘½ å¼‚æ¬¡å…ƒè¡Œè€…", tags: ["SR","æ´å¯Ÿ"], icon: "ğŸ‘ï¸", slogan: "çœŸç›¸æŒæ¡åœ¨å°‘æ•°äººæ‰‹ä¸­ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> ç‹¬é—¨ç»æŠ€ã€‚å†·é—¨é¢†åŸŸæƒå¨ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> å‰¯ä¸šä¹‹ç‹ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> å†°å±±å†…å¿ƒã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> ä»£æ²Ÿã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> é˜²æŠ‘éƒã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> çµæ„Ÿç›´è§‰ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> å˜ç°ç‹¬ç‰¹ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> è¾¹ç¼˜æ‹æƒ…ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> å–œæ¬¢è‡ªç”±ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> ç¥ç»ç—›ã€‚" } },
        "é£Ÿç¥æ ¼": { name: "ğŸ¨ é€é¥æ•£äºº", tags: ["SR","å®‰ç¨³"], icon: "ğŸ", slogan: "äººé—´ä¸å€¼å¾—ï¼Œç¾é£Ÿå€¼å¾—ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> çµæ„Ÿæºæ³‰ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> èººèµ¢ä¹‹è´¢ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> æš–ç”·ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> ç¦æ˜Ÿã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> å¿ƒå®½ä½“èƒ–ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> äº²å’ŒåŠ›æä½³ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> å°ç¡®å¹¸ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> ä»ªå¼æ„Ÿã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> æººçˆ±ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> é˜²æ‡’æƒ°ã€‚" } },
        "ä¼¤å®˜æ ¼": { name: "ğŸ­ è‰ºæœ¯ç©å®¶", tags: ["SR","åˆ›æ–°"], icon: "ğŸ¨", slogan: "æˆ‘ä¸æ˜¯ä¸ºäº†è¿åˆè€Œç”Ÿã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> åˆ›æ–°çµé­‚ã€‚å¤©ç”Ÿçš„è§„åˆ™ç ´åè€…ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> æŠ€èƒ½å˜ç°ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> ä¸ç¾ä¹‹é£ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> åƒå“¥ä»¬ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> æƒ…ç»ªåŒ–ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> çµæ°”é€¼äººã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> éšæ€§ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> æŒ‘å‰”ä¼´ä¾£ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> ç”Ÿå‘½ç¾ç»Šã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> é€šç»ç»œã€‚" } },
        "ä¼¤å®˜ç”Ÿè´¢": { name: "âš—ï¸ ç‚¼é‡‘æœ¯å£«", tags: ["SSR","çˆ†å‘"], icon: "ğŸ’¸", slogan: "ä¸‡ç‰©çš†å¯äº¤æ˜“ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> åˆ›ä¸šå¥‡æ‰ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> ç°é‡‘æµæå¼ºã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> é¢œæ§ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> è‡ªç”±ç”Ÿé•¿ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> é˜²è„±å‘å¤±çœ ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> å¸¦è´§å¥³ç‹ã€‚", w:"[è´¢å¯Œé€»è¾‘]</b> è´­ä¹°åŠ›æå¼ºã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> æŒ‘å‰”ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> å€¾åŠ›æŠ•å…¥ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> é€šä¹³è…ºã€‚" } },
        "é£Ÿç¥ç”Ÿè´¢": { name: "ğŸ é€é¥è´¢ä¸»", tags: ["SR","å®‰ç¨³"], icon: "ğŸ’°", slogan: "å¿«ä¹æ‰æ˜¯ç¬¬ä¸€ç”Ÿäº§åŠ›ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> å¿«ä¹èµšé’±ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> ç»†æ°´é•¿æµã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> æ¸©é¦¨æµªæ¼«ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> ç¦æ˜Ÿã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> é˜²è‚¥èƒ–ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> ç”Ÿæ´»ç¾å­¦å®¶ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> ç‰©è´¨ä¼˜æ¸¥ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> æ’’å¨‡å¥½å‘½ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> æ…ˆæ¯å¤šç¦ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> å¤šè¿åŠ¨ã€‚" } },
        "å»ºç¦„æ ¼": { name: "ğŸ° ç‹¬ç«‹é¢†ä¸»", tags: ["SR","è‡ªå¼º"], icon: "ğŸ—¿", slogan: "æˆ‘çš„é¢†åœŸæˆ‘åšä¸»ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> ä¸­æµç ¥æŸ±ã€‚æ‰§è¡ŒåŠ›è¶…å¼ºã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> è¾›è‹¦è‡´å¯Œã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> å¼ºç¡¬ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> ç‹¬ç«‹ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> é˜²è¿‡åŠ³ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> èŒåœºé“å¨˜å­ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> æ¼æ–—æ•ˆåº”ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> å¼ºåŠ¿ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> èƒ½å¹²å¦ˆå¦ˆã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> è°ƒç†å†…åˆ†æ³Œã€‚" } },
        "æœˆåŠ«æ ¼": { name: "ğŸ¤œ è±ªä¾ ä¹‰å£«", tags: ["SR","ä¹‰æ°”"], icon: "âš”ï¸", slogan: "ä»ä¹‰å€¼åƒé‡‘ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> å›¢é˜Ÿçµé­‚ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> æ•£è´¢ç«¥å­ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> å…‹å¦»ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> éš¾ç®¡ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> æˆ’èºã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> å·¾å¸¼è±ªæ°ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> æœˆå…‰æ—ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> é˜²èƒŒå›ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> åƒå“¥ä»¬ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> ä¿æŠ¤å‘¼å¸é“ã€‚" } },
        "é˜³åˆƒæ ¼": { name: "ğŸ—¡ï¸ é•‡å›½å¤§å°†", tags: ["SSR","æå¼º"], icon: "âš”ï¸", slogan: "å®ä¸ºç‰ç¢ï¼Œä¸ä¸ºç“¦å…¨ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> å¤©ç”Ÿçš„å°†å†›ã€‚æ€§æ ¼åˆšçƒˆã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> é™©ä¸­æ±‚å¯Œã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> å…‹å¦»ã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> ä¸¥å‰ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> é˜²è¡€å…‰ä¹‹ç¾ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> å·¾å¸¼è‹±é›„ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> ç‹¬ç«‹è‡´å¯Œã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> æ™šå©šã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> å‰–è…¹äº§æ¦‚ç‡å¤§ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> è°ƒç†ç»æœŸã€‚" } },
        "æ‚æ ¼": { name: "ğŸŒ± æ½œé¾™å‹¿ç”¨", tags: ["N","æ½œåŠ›"], icon: "ğŸŒ±", slogan: "æ—¶è¿æœªåˆ°ï¼Œæ½œå¿ƒä¿®ç‚¼ã€‚", male: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> å¤šé¢æ‰‹ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> å‹¤åŠ³è‡´å¯Œã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> å¹³æ·¡æ˜¯çœŸã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> å¹³å®‰æ˜¯ç¦ã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> é”»ç‚¼èº«ä½“ã€‚" }, female: { c:"<b>[å¤©èµ‹ä¼ è®°]</b> è¸å®åå‹¤ã€‚", w:"<b>[è´¢å¯Œé€»è¾‘]</b> èŠ‚ä¿­æŒå®¶ã€‚", l:"<b>[æƒ…æ„Ÿç¾ç»Š]</b> ä¾é è€å®äººã€‚", k:"<b>[åä»£ä¼ æ‰¿]</b> æ…ˆæ¯å¿ƒã€‚", h:"<b>[å®æˆ˜é”¦å›Š]</b> ä¿è¯ç¡çœ ã€‚" } }
    };

    const XIJI_RULES = {
        "çœŸä»è´¢æ ¼": { desc: "çœŸä»è´¢æ ¼ï¼Œæ»¡ç›˜è´¢æ˜Ÿï¼Œæ—¥ä¸»æ— æ ¹æ— æ°”ï¼Œåªèƒ½é¡ºä»è´¢åŠ¿ã€‚æ­¤æ ¼æè´µï¼Œæœ€å–œé£Ÿä¼¤ç”Ÿè´¢ã€è´¢æ—ºç”Ÿå®˜ã€‚æœ€å¿Œæ¯”åŠ«å¤ºè´¢ã€å°æ˜Ÿç”Ÿèº«ï¼Œé‡ä¹‹åˆ™ç ´æ ¼ï¼Œç”šè‡³æœ‰å¤§ç¾ã€‚", joy: ["ğŸ¨ é£Ÿä¼¤", "ğŸ’° è´¢æ˜Ÿ", "ğŸ—¡ï¸ å®˜æ€"], taboo: ["ğŸ’ª æ¯”åŠ« (ç ´æ ¼)", "ğŸ“œ å°æ˜Ÿ (ç”Ÿç¾)"] },
        "å‡ä»è´¢æ ¼": { desc: "å‡ä»è´¢æ ¼ï¼Œè´¢æ—ºèº«å¼±ï¼Œä½†å±€ä¸­æœ‰ä¸€ç‚¹å¾®å¼±å°æ¯”æˆ–å¾®æ ¹ã€‚æ—¥ä¸»æƒ³ä»åˆä¸å½»åº•ã€‚è¡Œè¿å»å…¶æ‚æ°”ï¼ˆå…‹æ‰å°æ¯”ï¼‰åˆ™å‘ï¼Œè¡Œè¿åŠ©èº«ï¼ˆå°æ¯”ï¼‰åˆ™è´¥ã€‚å¯Œè´µå¤šæœ‰èµ·ä¼ã€‚", joy: ["ğŸ¨ é£Ÿä¼¤", "ğŸ’° è´¢æ˜Ÿ"], taboo: ["ğŸ’ª æ¯”åŠ«", "ğŸ“œ å°æ˜Ÿ"] },
        "çœŸä»æ€æ ¼": { desc: "çœŸä»æ€æ ¼ï¼Œæ»¡ç›˜å®˜æ€ï¼Œæ—¥ä¸»æ— æ ¹ï¼Œèˆå‘½ä»æ€ã€‚æ­¤æ ¼è´µä¸å¯è¨€ï¼ŒæŒæ¡ç”Ÿæ€å¤§æƒã€‚å–œè´¢ç”Ÿæ€ã€‚æœ€å¿Œé£Ÿä¼¤åˆ¶æ€ï¼ˆä¸æ€å¯¹æŠ—ï¼‰ï¼Œå¿Œå°æ¯”å¸®èº«ã€‚", joy: ["ğŸ’° è´¢æ˜Ÿ", "ğŸ—¡ï¸ å®˜æ€"], taboo: ["ğŸ¨ é£Ÿä¼¤ (åˆ¶æ€)", "ğŸ’ª æ¯”åŠ«", "ğŸ“œ å°æ˜Ÿ"] },
        "å‡ä»æ€æ ¼": { desc: "å‡ä»æ€æ ¼ï¼Œå®˜æ€è™½æ—ºï¼Œä½†æœ‰å¾®æ ¹æˆ–å¾®å°ã€‚æ—¥ä¸»å†…å¿ƒä¸æœï¼Œå±€åŠ¿ä¸çº¯ã€‚è¡Œè¿å»å…¶æ‚æ°”åˆ™è´µï¼Œå¦åˆ™å¤šç”Ÿæ³¢æŠ˜ï¼Œå®˜éä¸æ–­ã€‚", joy: ["ğŸ’° è´¢æ˜Ÿ", "ğŸ—¡ï¸ å®˜æ€"], taboo: ["ğŸ¨ é£Ÿä¼¤", "ğŸ“œ å°æ˜Ÿ"] },
        "çœŸä»å„¿æ ¼": { desc: "æ»¡ç›˜é£Ÿä¼¤ï¼Œæ—¥ä¸»æ— æ ¹ã€‚åˆå'ä»å„¿æ ¼'ã€‚å–œå¾å„¿ï¼ˆé£Ÿä¼¤ï¼‰å†è§å„¿ï¼ˆè´¢ï¼‰ã€‚æœ€å¿Œå°æ˜Ÿå…‹åˆ¶é£Ÿä¼¤ã€‚è§å®˜æ€åˆ™ä¸é£Ÿä¼¤äº¤æˆ˜ï¼Œäº¦ä¸å‰ã€‚", joy: ["ğŸ¨ é£Ÿä¼¤", "ğŸ’° è´¢æ˜Ÿ"], taboo: ["ğŸ“œ å°æ˜Ÿ", "ğŸ—¡ï¸ å®˜æ€"] },
        "å‡ä»å„¿æ ¼": { desc: "é£Ÿä¼¤æ—ºï¼Œä½†æœ‰å¾®å°å¹²æ‰°ã€‚æ‰åè™½æœ‰ï¼Œå¸¸å—é•¿è¾ˆæˆ–ç¯å¢ƒå‹åˆ¶ã€‚éœ€è¡Œè´¢è¿ç ´å°ï¼Œæ–¹èƒ½æ–½å±•æŠ±è´Ÿã€‚", joy: ["ğŸ’° è´¢æ˜Ÿ"], taboo: ["ğŸ“œ å°æ˜Ÿ"] },

        "é‡‘æ°´ä¼¤å®˜": { desc: "å†¬é‡‘æå¯’ï¼Œå¿…ç”¨ç«ï¼ˆå®˜æ€ï¼‰è°ƒå€™ã€‚æ­¤æ ¼è§ç«å³æ¿€æ´»æ˜¾è´µï¼Œæ— ç«åˆ™å¦‚å¯’æ½­ä¹‹å‰‘ï¼Œæ‰åè™½é«˜å´å­¤å†·éš¾æˆã€‚è‹¥æœ‰æœ¨ç«é€šå…³ï¼Œåˆ™ååˆ©åŒæ”¶ã€‚æœ€å¿Œé‡‘æ°´å†æ—ºï¼Œæ‰€è°“'é‡‘æ°´å¤šæ¸…å¯’'ã€‚", joy: ["ğŸ”¥ ç« (è°ƒå€™)","ğŸŒ² æœ¨ (è´¢æ˜Ÿ)"], taboo: ["ğŸ’§ æ°´ (ä¼¤å®˜)","â›°ï¸ åœŸ (åŸ‹é‡‘)"] },
        "é‡‘æ°´é£Ÿç¥": { desc: "é‡‘ç™½æ°´æ¸…ï¼Œæ‰åç»ä»£ã€‚æœ€å¿Œæ°´å¤šæ²‰é‡‘ï¼Œå–œç«æš–å±€ã€‚è‹¥æ— ç«æ°”ï¼Œåˆ™æ‰åæµäºå­¤å†·ï¼Œéš¾è·ä¸–ä¿—åŠŸåã€‚æ°”è±¡æ¸…é€¸ä¹‹æã€‚", joy: ["ğŸ”¥ ç« (æš–å±€)","ğŸŒ² æœ¨ (é€šå…³)"], taboo: ["â›°ï¸ åœŸ (å¤ºé£Ÿ)","ğŸ’§ æ°´ (æ²‰æ²¦)"] },
        "æœ¨ç«é€šæ˜": { desc: "æœ¨ç”Ÿæ˜¥æœˆï¼Œè§ç«æ³„ç§€ã€‚å¿Œé‡‘å…‹ä¼ï¼Œå¿Œæ°´ç­ç«ã€‚æ–‡å½©é£æµï¼Œåæ‰¬å¤©ä¸‹ã€‚å–œç«æœ¨ï¼Œå¿Œé‡‘æ°´ã€‚", joy: ["ğŸ”¥ ç« (æ³„ç§€)","ğŸŒ² æœ¨ (åŠ©åŠ¿)"], taboo: ["ğŸ—¡ï¸ é‡‘ (å…‹æœ¨)","ğŸ’§ æ°´ (ç­ç«)"] },
        "ä¼¤å®˜é…å°": { desc: "å±€ä¸­ä¼¤å®˜æœ‰åŠ›ä¸”è§æ°´å°æŠ¤èº«ã€‚çŠ¹å¦‚ç‹‚é£™ä¹‹é©¬é…ä»¥é‡‘ç»œï¼Œæ–‡æ­¦å…¼å¤‡ã€‚å°æ˜Ÿä¸ä»…åˆ¶ä¼¤ï¼Œæ›´èµ·è°ƒå€™ä¹‹åŠŸï¼Œä½¿æ ¼å±€ç”±æµŠå˜æ¸…ã€‚æ­¤æ ¼æœ€å–œèº«å¼±ä¼¤æ—ºï¼Œç”¨å°ç”Ÿèº«åˆ¶ä¼¤ï¼Œä¸»åæ»¡å¤©ä¸‹ã€‚", joy: ["ğŸ’§ æ°´ (å°æ˜Ÿ)","ğŸŒ² æœ¨ (å¸®èº«)"], taboo: ["â›°ï¸ åœŸ (åå°)","ğŸ”¥ ç« (ç‡¥çƒ­)"] },
        "ä¼¤å®˜åˆæ€": { desc: "ä¼¤æ€ä¸¤æ—ºï¼Œåˆæ€ä¸ºæƒã€‚ä»¥æ™ºæ…§è°‹ç•¥åŒ–è§£å±æœºï¼Œå…¸å‹çš„'é™©ä¸­æ±‚è´µ'ä¹‹æ ¼ã€‚å‡¶ç‰©äº’åˆ¶ï¼Œåè€Œæˆè´µã€‚", joy: ["ğŸ“œ å°æ˜Ÿ","ğŸ’ª æ¯”åŠ«"], taboo: ["ğŸ’° è´¢æ˜Ÿ","ğŸ—¡ï¸ å®˜æ€"] },
        "é£Ÿç¥åˆ¶æ€": { desc: "ä¸ƒæ€æœ‰åŠ›ï¼Œé£Ÿç¥åˆ¶ä¹‹ã€‚èº«å¼ºæ€æµ…ï¼ŒæƒæŸ„æé‡ã€‚å–œé£Ÿå°ï¼Œå¿Œè´¢æ€ã€‚", joy: ["ğŸ¨ é£Ÿç¥","ğŸ“œ å°æ˜Ÿ"], taboo: ["ğŸ’° è´¢æ˜Ÿ","ğŸ—¡ï¸ å®˜æ€"] },
        "æ€å°ç›¸ç”Ÿ": { desc: "æ€åŠ¿æ±¹æ±¹ï¼Œèµ–å°åŒ–ä¹‹ã€‚åŒ–ç…ä¸ºæƒï¼Œä¸»æ­¦èŒæˆ–æŒæ¡å®æƒçš„ç®¡ç†è€…ã€‚å–œå°æ¯”ï¼Œå¿Œè´¢ã€‚", joy: ["ğŸ“œ å°æ˜Ÿ","ğŸ’ª æ¯”åŠ«"], taboo: ["ğŸ’° è´¢æ˜Ÿ","ğŸ—¡ï¸ å®˜æ€"] },
        "æ­£è´¢æ ¼": { desc: "è´¢æ˜Ÿå½“ä»¤ï¼Œæ±‚è´¢æœ‰é“ã€‚èº«å¼ºä»»è´¢ï¼Œèº«å¼±å–œå°æ¯”ã€‚æ­¥æ­¥ä¸ºè¥ä¹‹å¯Œã€‚æœ€å¿Œæ¯”åŠ«å¤ºè´¢æˆ–å®˜æ€æ³„è´¢ã€‚", joy: ["ğŸ’ª æ¯”åŠ«","ğŸ“œ å°æ˜Ÿ"], taboo: ["ğŸ’° è´¢ (èº«å¼±)","ğŸ—¡ï¸ å®˜æ€"] },
        "åè´¢æ ¼": { desc: "åè´¢å½“ä»¤ï¼Œæ…·æ…¨å¤§æ–¹ã€‚å–œå®˜æ€æŠ¤è´¢ï¼Œå–œé£Ÿä¼¤ç”Ÿè´¢ã€‚æœ€å¿Œæ¯”åŠ«åˆ†å¤ºã€‚è´¢å¤§æ°”ç²—ä¹‹æ ¼ã€‚", joy: ["ğŸ—¡ï¸ å®˜æ€","ğŸ¨ é£Ÿä¼¤"], taboo: ["ğŸ’ª æ¯”åŠ«","ç©ºäº¡"] },
        "æ­£å®˜æ ¼": { desc: "æ­£å®˜çº¯æ­£ï¼Œè´µæ°”å¤©ç„¶ã€‚å–œè´¢ç”Ÿå®˜ï¼Œå–œå°æŠ¤å®˜ã€‚æœ€å¿Œä¼¤å®˜è§å®˜ï¼Œæ‰€è°“'ä¼¤å®˜è§å®˜ï¼Œä¸ºç¥¸ç™¾ç«¯'ã€‚", joy: ["ğŸ’° è´¢æ˜Ÿ","ğŸ“œ å°æ˜Ÿ"], taboo: ["ğŸ¨ ä¼¤å®˜","ğŸ—¡ï¸ ä¸ƒæ€"] },
        "ä¸ƒæ€æ ¼": { desc: "æ€ç¥å¨ä¸¥ï¼Œæ”»èº«æœ€ç‹ ã€‚éœ€åˆ¶åŒ–æ–¹æˆå¤§æ ¼ã€‚æ— åˆ¶åˆ™å‹åŠ›é‡é‡ï¼Œç¾å„ä¸›ç”Ÿã€‚æœ‰åˆ¶åˆ™ä¸º'åŒ–ç…ä¸ºæƒ'ã€‚", joy: ["ğŸ¨ é£Ÿä¼¤ (åˆ¶)","ğŸ“œ å°æ˜Ÿ (åŒ–)"], taboo: ["ğŸ’° è´¢æ˜Ÿ (åŠ©æ€)"] },
        "æ­£å°æ ¼": { desc: "å°ç»¶ç”Ÿèº«ï¼Œæ…ˆæ‚²æ¸©åšã€‚å–œå®˜æ€ç”Ÿå°ï¼Œå¿Œè´¢åå°ã€‚å°ç»¶è¢«åï¼Œåˆ™åå£°å—æŸï¼Œå­¦ä¸šå—é˜»ã€‚", joy: ["ğŸ—¡ï¸ å®˜æ€","ğŸ’ª æ¯”åŠ«"], taboo: ["ğŸ’° è´¢æ˜Ÿ"] },
        "åå°æ ¼": { desc: "åå°å½“æƒï¼Œé¬¼æ‰é€»è¾‘ã€‚å–œåè´¢åˆ¶æ­ã€‚æ— è´¢åˆ¶æ­åˆ™ä¸º'æ­ç¥å¤ºé£Ÿ'ï¼Œä¸»ç¾ã€‚", joy: ["ğŸ’° åè´¢","å¤©æœˆå¾·"], taboo: ["ğŸ¨ é£Ÿç¥"] },
        "é£Ÿç¥æ ¼": { desc: "é£Ÿç¥ç”Ÿè´¢ï¼Œç¦å¯¿åŒå…¨ã€‚å¿Œæ­ç¥å¤ºé£Ÿã€‚é£Ÿç¥ä¹ƒçˆµæ˜Ÿï¼Œä¸ä»…ä¸»è´¢ï¼Œæ›´ä¸»å¯¿ã€‚", joy: ["ğŸ’° è´¢æ˜Ÿ","ğŸ’ª æ¯”åŠ«"], taboo: ["ğŸ“œ åå°"] },
        "ä¼¤å®˜æ ¼": { desc: "ä¼¤å®˜å½“ä»¤ï¼Œæ‰åæ¨ªæº¢ã€‚éœ€å°åˆ¶æˆ–è´¢åŒ–ã€‚æ— åˆ¶åŒ–åˆ™ä¸º'ä¼¤å®˜æ— åˆ¶'ï¼Œç‹‚å‚²æƒ¹ç¥¸ã€‚", joy: ["ğŸ“œ å°æ˜Ÿ","ğŸ’° è´¢æ˜Ÿ"], taboo: ["ğŸ—¡ï¸ å®˜æ€","ğŸ’ª æ¯”åŠ«"] },
        "ä¼¤å®˜ç”Ÿè´¢": { desc: "ä¼¤å®˜æœ‰æ ¹ï¼Œç”Ÿè´¢æœ‰æƒ…ã€‚æŠ€è‰ºè‡´å¯Œã€‚ä¼¤å®˜è½¬ä¸ºç”Ÿè´¢ä¹‹æºï¼Œä¸»å¯Œä¸ä¸»è´µã€‚", joy: ["ğŸ’° è´¢æ˜Ÿ","ğŸ¨ ä¼¤å®˜"], taboo: ["ğŸ“œ å°æ˜Ÿ","ğŸ’ª æ¯”åŠ«"] },
        "é£Ÿç¥ç”Ÿè´¢": { desc: "é£Ÿç¥æœ‰æ ¹ï¼Œç”Ÿè´¢å®‰ç¨³ã€‚ç¦æ°”ä¹‹å±€ã€‚é£Ÿç¥ç”Ÿè´¢ï¼Œå¯Œè´µè‡ªæ¥ï¼Œä¸”è´¢æºé•¿ä¹…ã€‚", joy: ["ğŸ’° è´¢æ˜Ÿ","ğŸ¨ é£Ÿç¥"], taboo: ["ğŸ“œ åå°","ğŸ—¡ï¸ å®˜æ€"] },
        "å»ºç¦„æ ¼": { desc: "æœˆä»¤å»ºç¦„ï¼Œèº«å¼ºè´¢å¼±ã€‚å–œè´¢å®˜é£Ÿä¼¤æ³„ç§€ã€‚æœ€å¿Œæ¯”åŠ«åˆ†è´¢ã€‚ç™½æ‰‹èµ·å®¶ä¹‹æ ¼ã€‚", joy: ["ğŸ’° è´¢æ˜Ÿ","ğŸ—¡ï¸ å®˜æ€"], taboo: ["ğŸ’ª æ¯”åŠ«","ğŸ“œ å°æ˜Ÿ"] },
        "æœˆåŠ«æ ¼": { desc: "æœˆä»¤åŠ«è´¢ï¼Œäº‰è´¢å¤ºåˆ©ã€‚éœ€å®˜æ€åˆ¶åŠ«æˆ–é£Ÿä¼¤åŒ–åŠ«ã€‚æ— åˆ¶åˆ™ç ´è´¢åˆ‘å¦»ã€‚", joy: ["ğŸ—¡ï¸ å®˜æ€","ğŸ¨ é£Ÿä¼¤"], taboo: ["ğŸ’ª æ¯”åŠ«","ğŸ“œ å°æ˜Ÿ"] },
        "é˜³åˆƒæ ¼": { desc: "é˜³åˆƒå½“æƒï¼Œåˆšå¼ºæ— æ¯”ã€‚å–œä¸ƒæ€åˆ¶åˆƒï¼Œå–œé£Ÿä¼¤æ³„ç§€ã€‚å¿Œè´¢æ—ºç”Ÿæ€ã€‚'ç¾Šåˆƒé©¾æ€'ä¸ºæ­¦è´µã€‚", joy: ["ğŸ—¡ï¸ ä¸ƒæ€","ğŸ¨ é£Ÿä¼¤"], taboo: ["ğŸ’° è´¢æ˜Ÿ"] },
        "æ‚æ ¼": { desc: "æ ¼å±€æœªæ¸…ï¼Œäº”è¡Œæ‚å±…ã€‚å…¨å‡­æ‰¶æŠ‘è°ƒå€™ï¼Œéœ€çœ‹æ—¥ä¸»åº•è•´ä¸é€šå…³ã€‚åå¤©åŠªåŠ›å¯æ‰­ä¹¾å¤ã€‚", joy: ["æ‰¶åŠ©ç”¨ç¥"], taboo: ["å…‹å®³ç”¨ç¥"] }
    };

    // 3. ç®—æ³•æ ¸å¿ƒ
    function hasRoot(gan, pillars) {
        const roots = ROOT_MAP[gan] || [];
        return pillars.some(p => roots.includes(p.z));
    }

    function calcCommander(lunar, mz) {
        const pj = lunar.getPrevJie();
        const s = lunar.getSolar();
        const pjs = pj.getSolar();
        const d1 = new Date(s.getYear(), s.getMonth()-1, s.getDay(), s.getHour(), s.getMinute());
        const d2 = new Date(pjs.getYear(), pjs.getMonth()-1, pjs.getDay(), pjs.getHour(), pjs.getMinute());
        const diff = Math.floor((d1.getTime() - d2.getTime()) / (1000 * 60 * 60 * 24));
        const rules = SILING_RULES[mz];
        let commander = rules[rules.length-1][0]; 
        let sum = 0;
        for (let r of rules) { sum += r[1]; if (diff < sum) { commander = r[0]; break; } }
        return { commander, diffDays: diff };
    }

    // ==========================================
    // 4. æ ¼å±€åˆ¤å®šæ ¸å¿ƒé€»è¾‘ (å«çœŸå‡ä»æ ¼ + æ°”åŠ¿åˆ¤å®š)
    // ==========================================
    function determinePattern(climate, pillars, dm, mz, cmd) {
        // 1. ä¼˜å…ˆå¤„ç†ç‰¹æ®Šæ°”å€™ (T0)
        if (climate.special) return climate.special;

        const stems = [pillars[0].g, pillars[1].g, pillars[3].g];
        const zhis = pillars.map(p => p.z);
        
        // è®¡ç®—æ ¹æ°”
        const dmRooted = hasRoot(dm, pillars);
        let mzMainGod = SHISHEN_MAP[dm][ZHI_MAIN_QI[mz]]; // åŸå§‹æœˆä»¤æœ¬æ°”

        // === æ°”åŠ¿åˆ¤å®š (Override Logic) ===
        // ç‰¹æ®Šï¼šæ£€æµ‹åœ°æ”¯æ˜¯å¦ä¼šæˆâ€œè´¢å±€â€æˆ–â€œæ€å±€â€ï¼Œä»è€Œæ”¹å˜æœˆä»¤æ€§è´¨
        // ä¾‹å¦‚ï¼šåºšç”Ÿäº¥æœˆï¼Œè‹¥åœ°æ”¯è§äº¥å¯æœªã€å¯…äº¥åˆæœ¨ï¼Œåˆ™æœˆä»¤æ°”åŠ¿è½¬æœ¨ï¼ˆè´¢ï¼‰
        if (!dmRooted) {
             const dmElement = WUXING_MAP[dm];
             
             // A. é‡‘æ—¥ä¸»ï¼Œè§äº¥å¯æœª/å¯…å¯è¾°/äº¥å¯… -> æœ¨å±€ (è´¢)
             if (dmElement === 'é‡‘') {
                 if ((zhis.includes('äº¥') && zhis.includes('å¯')) || 
                     (zhis.includes('å¯…') && zhis.includes('å¯')) || 
                     (zhis.includes('äº¥') && zhis.includes('å¯…'))) {
                     if (mzMainGod === 'é£Ÿç¥' || mzMainGod === 'ä¼¤å®˜') mzMainGod = 'åè´¢'; // ä¿®æ­£æ°”åŠ¿ä¸ºè´¢
                 }
             }
             // B. æœ¨æ—¥ä¸»ï¼Œè§ç”³å­è¾°/äº¥å­ä¸‘ -> æ°´å±€ (å°) -> æ­¤æ—¶å¤šä¸ºä»å¼º/æ¯æ…ˆç­å­ï¼Œæš‚ä¸å±•å¼€
             // C. æ°´æ—¥ä¸»ï¼Œè§å¯…åˆæˆŒ/å·³åˆæœª -> ç«å±€ (è´¢)
             if (dmElement === 'æ°´') {
                 if ((zhis.includes('å¯…') && zhis.includes('åˆ')) || 
                     (zhis.includes('å·³') && zhis.includes('åˆ'))) {
                     mzMainGod = 'åè´¢';
                 }
             }
             // D. ç«æ—¥ä¸»ï¼Œè§å·³é…‰ä¸‘/ç”³é…‰æˆŒ -> é‡‘å±€ (è´¢)
             if (dmElement === 'ç«') {
                 if ((zhis.includes('å·³') && zhis.includes('é…‰')) || 
                     (zhis.includes('ç”³') && zhis.includes('é…‰'))) {
                     mzMainGod = 'åè´¢';
                 }
             }
        }

        // è®¡ç®—å¤©å¹²ç”Ÿæ‰¶ï¼ˆå°æ˜Ÿ+æ¯”åŠ«ï¼‰çš„æ•°é‡
        const supportStemsCount = stems.filter(s => {
            const god = SHISHEN_MAP[dm][s];
            return ["æ­£å°","åå°","æ¯”è‚©","åŠ«è´¢"].includes(god);
        }).length;

        // 2. åˆ¤å®šâ€œä»æ ¼â€ (Follow Patterns) - æ ¸å¿ƒé€»è¾‘æ›´æ–°
        if (!dmRooted) {
            // å¦‚æœæ—¥ä¸»æ— æ ¹ï¼Œä¸”æœˆä»¤æ°”åŠ¿ï¼ˆç»è¿‡ä¿®æ­£ï¼‰ææ—º
            
            // --- ä»è´¢æ ¼åˆ¤å®š ---
            if (mzMainGod.includes("è´¢")) {
                if (supportStemsCount === 0) return "çœŸä»è´¢æ ¼";
                if (supportStemsCount <= 2) return "å‡ä»è´¢æ ¼"; // æœ‰å¾®å¼±å¸®æ‰¶ï¼Œä¸ºå‡ä»
            }
            // --- ä»æ€æ ¼åˆ¤å®š ---
            if (mzMainGod === "ä¸ƒæ€" || mzMainGod === "æ­£å®˜") {
                if (supportStemsCount === 0) return "çœŸä»æ€æ ¼";
                if (supportStemsCount <= 2) return "å‡ä»æ€æ ¼";
            }
            // --- ä»å„¿æ ¼åˆ¤å®š (é£Ÿä¼¤) ---
            if (mzMainGod === "é£Ÿç¥" || mzMainGod === "ä¼¤å®˜") {
                // ä»å„¿æ ¼è¿˜éœ€è¦çœ‹æ˜¯å¦è§å°ï¼Œè§å°åˆ™å¯èƒ½ç ´æ ¼
                const hasSeal = stems.some(s => ["æ­£å°","åå°"].includes(SHISHEN_MAP[dm][s]));
                if (!hasSeal && supportStemsCount === 0) return "çœŸä»å„¿æ ¼";
                if (hasSeal || supportStemsCount > 0) return "å‡ä»å„¿æ ¼";
            }
        }

        // 3. é˜³åˆƒ/å»ºç¦„/æœˆåŠ« (T1)
        if (YANG_REN_MAP[dm] === mz) return "é˜³åˆƒæ ¼";
        if (WUXING_MAP[dm] === WUXING_MAP[mz] && mz !== YANG_REN_MAP[dm]) return "å»ºç¦„æ ¼";
        if (mzMainGod === "åŠ«è´¢") return "æœˆåŠ«æ ¼";

        // 4. å¤æ‚ç»„åˆæ ¼å±€ (T2)
        if (mzMainGod === "ä¼¤å®˜") {
            const hasSeal = stems.some(s => ["æ­£å°","åå°"].includes(SHISHEN_MAP[dm][s]) && hasRoot(s, pillars));
            if (hasSeal) return "ä¼¤å®˜é…å°";
            const hasWealth = stems.some(s => SHISHEN_MAP[dm][s].includes("è´¢"));
            if (hasWealth) return "ä¼¤å®˜ç”Ÿè´¢";
            const hasKill = stems.some(s => SHISHEN_MAP[dm][s] === "ä¸ƒæ€");
            if (hasKill) return "ä¼¤å®˜åˆæ€";
            return "ä¼¤å®˜æ ¼";
        }

        if (mzMainGod === "é£Ÿç¥") {
            const hasKill = stems.some(s => SHISHEN_MAP[dm][s] === "ä¸ƒæ€");
            if (hasKill && dmRooted) return "é£Ÿç¥åˆ¶æ€"; 
            const hasWealth = stems.some(s => SHISHEN_MAP[dm][s].includes("è´¢"));
            if (hasWealth) return "é£Ÿç¥ç”Ÿè´¢";
            return "é£Ÿç¥æ ¼";
        }

        if (mzMainGod === "ä¸ƒæ€") {
            const hasSeal = stems.some(s => ["æ­£å°","åå°"].includes(SHISHEN_MAP[dm][s]));
            if (hasSeal) return "æ€å°ç›¸ç”Ÿ";
            const hasShangGuan = stems.some(s => SHISHEN_MAP[dm][s] === "ä¼¤å®˜");
            if (hasShangGuan) return "ä¼¤å®˜åˆæ€";
            const hasShiShen = stems.some(s => SHISHEN_MAP[dm][s] === "é£Ÿç¥");
            if (hasShiShen) return "é£Ÿç¥åˆ¶æ€";
            return "ä¸ƒæ€æ ¼";
        }

        // 5. æ™®é€šæ­£æ ¼ (T3)
        if (stems.includes(cmd.commander)) {
            const god = SHISHEN_MAP[dm][cmd.commander];
            const map = {
                "æ­£è´¢":"æ­£è´¢æ ¼", "åè´¢":"åè´¢æ ¼", 
                "æ­£å®˜":"æ­£å®˜æ ¼", "ä¸ƒæ€":"ä¸ƒæ€æ ¼",
                "æ­£å°":"æ­£å°æ ¼", "åå°":"åå°æ ¼",
                "é£Ÿç¥":"é£Ÿç¥æ ¼", "ä¼¤å®˜":"ä¼¤å®˜æ ¼"
            };
            if (map[god]) return map[god];
        }

        // 6. æœ¬æ°”å…œåº•
        const fallback = {
            "æ­£è´¢":"æ­£è´¢æ ¼", "åè´¢":"åè´¢æ ¼", 
            "æ­£å®˜":"æ­£å®˜æ ¼", "ä¸ƒæ€":"ä¸ƒæ€æ ¼",
            "æ­£å°":"æ­£å°æ ¼", "åå°":"åå°æ ¼",
            "é£Ÿç¥":"é£Ÿç¥æ ¼", "ä¼¤å®˜":"ä¼¤å®˜æ ¼",
            "æ¯”è‚©":"å»ºç¦„æ ¼", "åŠ«è´¢":"æœˆåŠ«æ ¼"
        };
        return fallback[mzMainGod] || "æ‚æ ¼";
    }

    function getDMDesc(dm, mz) {
        const season = ["äº¥","å­","ä¸‘"].includes(mz) ? "å†¬" : ["å·³","åˆ","æœª"].includes(mz) ? "å¤" : ["å¯…","å¯","è¾°"].includes(mz) ? "æ˜¥" : "ç§‹";
        return `ä½ æ˜¯ç”Ÿäº${season}å­£çš„ã€${dm}ã€‘ã€‚`;
    }

    function startScan() {
        if (typeof Lunar === 'undefined') return alert("âš ï¸ æ ¸å¿ƒç»„ä»¶åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼");
        const timeStr = document.getElementById('birth-input').value;
        if (!timeStr) return alert("è¯·é€‰æ‹©ä»¥é™ç”Ÿæ—¶åˆ»");
        
        const loader = document.getElementById('loader');
        if(loader) loader.style.display = 'inline-block';
        
        setTimeout(() => {
            try {
                const date = new Date(timeStr);
                const solar = Solar.fromYmdHms(date.getFullYear(), date.getMonth()+1, date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds());
                const lunar = solar.getLunar();
                const baziObj = lunar.getEightChar();
                baziObj.setSect(2);

                const pillars = [
                    {t:'å¹´', g:baziObj.getYearGan().toString(), z:baziObj.getYearZhi().toString()},
                    {t:'æœˆ', g:baziObj.getMonthGan().toString(), z:baziObj.getMonthZhi().toString()},
                    {t:'æ—¥', g:baziObj.getDayGan().toString(), z:baziObj.getDayZhi().toString()},
                    {t:'æ—¶', g:baziObj.getTimeGan().toString(), z:baziObj.getTimeZhi().toString()}
                ];

                const dm = pillars[2].g, mz = pillars[1].z;
                const cmd = calcCommander(lunar, mz);
                
                // è°ƒå€™æ¿€æ´»
                const isWinter = ["äº¥","å­","ä¸‘"].includes(mz);
                const isSummer = ["å·³","åˆ","æœª"].includes(mz);
                const hasFire = pillars.some(p => WUXING_MAP[p.g]==='ç«' || WUXING_MAP[p.z]==='ç«');
                const hasWater = pillars.some(p => WUXING_MAP[p.g]==='æ°´' || WUXING_MAP[p.z]==='æ°´');
                
                let actStatus = "", actDesc = "";
                let isActivated = false;

                if ((WUXING_MAP[dm]==='é‡‘' && isWinter && hasFire) || 
                    (WUXING_MAP[dm]==='æœ¨' && isSummer && hasWater) ||
                    (WUXING_MAP[dm]==='åœŸ' && isWinter && hasFire)) {
                    isActivated = true;
                    actStatus = "ğŸ”¥ ç´«æ°”ä¸œæ¥ Â· æ ¼å±€å˜è´µ";
                    actDesc = "å±€ä¸­è§è°ƒå€™â€œå¥¢ä¾ˆå“â€ï¼ŒçŠ¹å¦‚å¯’é‡‘é‡ç«ã€ç„¦æœ¨é€¢é›¨ã€‚åŸæ ¼åŠ›é‡ç¬é—´æ¿€æ´»ï¼Œå±‚æ¬¡å€å¢ï¼Œååˆ©åŒæ”¶ä¹‹è±¡ã€‚";
                }

                const climate = { special: null };
                if (WUXING_MAP[dm]==='é‡‘' && isWinter) climate.special = pillars.some(p => SHISHEN_MAP[dm][p.g]==='ä¼¤å®˜') ? "é‡‘æ°´ä¼¤å®˜" : "é‡‘æ°´é£Ÿç¥";
                if (WUXING_MAP[dm]==='æœ¨' && ["å¯…","å¯"].includes(mz) && hasFire) climate.special = "æœ¨ç«é€šæ˜";
                if (WUXING_MAP[dm]==='æœ¨' && (isSummer || mz==='å·³') && hasWater && pillars.some(p => SHISHEN_MAP[dm][p.g]==='ä¼¤å®˜' && hasRoot(p.g, pillars))) climate.special = "ä¼¤å®˜é…å°";

                const pattern = determinePattern(climate, pillars, dm, mz, cmd);
                
                // æ¸²æŸ“
                const resultArea = document.getElementById('result-area');
                resultArea.style.display = 'block';
                
                if (isActivated) {
                    safeSetStyle('activation-area', 'display', 'block');
                    safeSetText('activation-status', actStatus);
                    safeSetText('activation-desc', actDesc);
                } else {
                    safeSetStyle('activation-area', 'display', 'none');
                }

                renderUI(pattern, cmd, dm, mz, pillars);
                renderWuxingBar(pillars);

                resultArea.scrollIntoView({ behavior: 'smooth' });

            } catch (e) { alert("é‘‘å®šä¸­æ–­ï¼š" + e.message); console.error(e); }
            finally { if(loader) loader.style.display = 'none'; }
        }, 300);
    }

    function renderUI(key, cmd, dm, mz, pillars) {
        const data = GAME_DB[key] || GAME_DB["æ‚æ ¼"];
        const xiji = XIJI_RULES[key] || XIJI_RULES["æ‚æ ¼"];
        const detail = data[currentGender === 1 ? 'male' : 'female'];

        safeSetText('role-icon', data.icon);
        safeSetText('role-title', data.name);
        safeSetText('role-sub', data.slogan);
        safeSetHTML('role-tags', `<span class="tag ssr">${key}</span>`);
        safeSetHTML('siling-text', `${cmd.commander} <small>(${SHISHEN_MAP[dm][cmd.commander] || 'çœŸç¥'})</small> Â· æŒæƒ ${cmd.diffDays} æ—¥`);
        
        safeSetText('pattern-reason', `æ­¤å±€å®šä¸ºã€${key}ã€‘ã€‚\n\n${xiji.desc}`);
        safeSetText('txt-joy', xiji.joy.join(" / "));
        safeSetText('txt-taboo', xiji.taboo.join(" / "));
        safeSetText('dm-desc', getDMDesc(dm, mz));

        let p_html = '';
        pillars.forEach(p => {
            const god = p.t.includes('æ—¥') ? 'å…ƒç¥' : (SHISHEN_MAP[dm][p.g] || "");
            const colorG = WX_COLOR_DATA[WUXING_MAP[p.g]] || '#333';
            const colorZ = WX_COLOR_DATA[WUXING_MAP[p.z]] || '#333';
            // æ˜¾ç¤ºè—å¹²
            const hiddens = HIDDEN_STEMS[p.z] || [];
            let hiddenStr = "";
            hiddens.forEach(h => {
                hiddenStr += `<div class="hs-row"><span class="hs-gan" style="color:${WX_COLOR_DATA[WUXING_MAP[h]]}">${h}</span><span class="hs-god">${SHISHEN_MAP[dm][h]}</span></div>`;
            });

            // é•¿ç”ŸçŠ¶æ€
            const cs = CHANGSHENG_TABLE[p.g][p.z];

            p_html += `<div class="ofuda"><div class="ofuda-god">${god}</div><div class="ofuda-char" style="color:${colorG}">${p.g}</div><div class="ofuda-char" style="color:${colorZ}">${p.z}</div><div class="ofuda-head">${p.t}</div><div class="hidden-stems">${hiddenStr}</div><div class="ofuda-cs">è‡ªå${cs}</div></div>`;
        });
        document.getElementById('pillars-box').innerHTML = p_html;

        document.getElementById('guide-content').innerHTML = `
            <div class="guide-item"><div class="guide-title">âš”ï¸ äº‹ä¸šä¸æ‰æƒ…</div><div class="guide-text">${detail.c}</div></div>
            <div class="guide-item"><div class="guide-title">ğŸ’° è´¢å¯Œä¸æ°”æ•°</div><div class="guide-text">${detail.w}</div></div>
            <div class="guide-item"><div class="guide-title">ğŸ’ æƒ…ç¼˜ä¸ç¾ç»Š</div><div class="guide-text">${detail.l}</div></div>
            <div class="guide-item"><div class="guide-title">ğŸŒ± åä»£ä¸ä¼ æ‰¿</div><div class="guide-text">${detail.k}</div></div>
            <div class="guide-item"><div class="guide-title">ğŸ›¡ï¸ å®æˆ˜ä¸é”¦å›Š</div><div class="guide-text">${detail.h}</div></div>
        `;
    }

    function renderWuxingBar(pillars) {
        // ç®€å•è®¡ç®—å¤©å¹²åœ°æ”¯ï¼ˆä¸å«è—å¹²æ¯”ä¾‹ï¼Œä»…ä¸»æ°”ï¼‰
        const counts = {'é‡‘':0,'æœ¨':0,'æ°´':0,'ç«':0,'åœŸ':0};
        pillars.forEach(p => { 
            counts[WUXING_MAP[p.g]] += 1; 
            counts[WUXING_MAP[p.z]] += 1; 
            // è—å¹²ç®€å•åŠ æƒ
            const hiddens = HIDDEN_STEMS[p.z] || [];
            hiddens.forEach(h => counts[WUXING_MAP[h]] += 0.5);
        });
        
        let total = 0;
        for(let w in counts) total += counts[w];

        let barHtml = "";
        for(let w in counts) {
            if(counts[w] > 0) {
                const pct = (counts[w] / total) * 100;
                barHtml += `<div class="wx-segment" style="width:${pct}%; background:${WX_COLOR_DATA[w]};"></div>`;
            }
        }
        document.getElementById('wx-bar').innerHTML = barHtml;
    }

    // --- å·¥å…· ---
    function setGender(v, el) { 
        currentGender = v; 
        document.querySelectorAll('.g-btn').forEach(b => b.classList.remove('active')); 
        el.classList.add('active'); 
    }

    function copyResult() {
        const text = document.getElementById('result-area').innerText;
        navigator.clipboard.writeText(text).then(() => alert("å¤©å‘½ä¹¦å·²å¤åˆ¶åˆ°å‰ªè´´æ¿"));
    }

    window.onload = function() {
        try {
            const now = new Date();
            const str = new Date(now.getTime() - now.getTimezoneOffset() * 60000).toISOString().slice(0, 16);
            document.getElementById('birth-input').value = str;
        } catch(e){}
    };
</script>
</body>
</html>
