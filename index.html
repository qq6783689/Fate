<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å‘½è¿é»‘ç›’ Pro Max (è‡ªé€‚åº”ç‰ˆ)</title>
    <script src="https://cdn.jsdelivr.net/npm/lunar-javascript@1.2.37/lunar.min.js"></script>
    <style>
        /* --- æ ¸å¿ƒé…è‰² --- */
        :root {
            --primary-color: #8E44AD;
            --secondary-color: #27AE60;
            --warm-color: #D35400;
            --cold-color: #2980B9;
            --bg-color: #F5F7FA;
            --text-color: #2C3E50;
            --card-bg: #FFFFFF;
            --border-radius: 12px;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            background-color: var(--bg-color);
            font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "KaiTi", "æ¥·ä½“", serif;
            color: var(--text-color);
            margin: 0;
            padding: 15px; /* å‡å°å¤–è¾¹è· */
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* ç§»åŠ¨ç«¯æ”¹ä¸ºé¡¶éƒ¨å¯¹é½ï¼Œé˜²æ­¢é•¿å†…å®¹æˆªæ–­ */
        }

        .container {
            width: 100%;
            max-width: 650px; /* ç”µè„‘ç«¯æœ€å¤§å®½åº¦ */
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: 0 5px 20px rgba(0,0,0,0.05);
            overflow: hidden;
            margin-top: 10px;
            margin-bottom: 30px;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #000000);
            padding: 30px 20px;
            text-align: center;
            color: #d4af37;
        }
        
        .header h1 { margin: 0; font-size: 22px; letter-spacing: 2px; }
        .header p { margin: 5px 0 0; font-size: 12px; opacity: 0.8; color: #fff; }

        .input-section { padding: 20px; border-bottom: 1px solid #eee; }
        .form-group { margin-bottom: 15px; }
        .label { display: block; margin-bottom: 8px; font-weight: bold; font-size: 14px; }

        /* æ€§åˆ«é€‰æ‹© */
        .gender-switch { display: flex; background: #f1f2f6; border-radius: 8px; padding: 4px; }
        .gender-switch input { display: none; }
        .gender-switch label {
            flex: 1; text-align: center; padding: 10px; border-radius: 6px;
            cursor: pointer; transition: all 0.3s ease; font-weight: bold; font-size: 14px;
        }
        .gender-switch input:checked + label {
            background: #fff; box-shadow: 0 2px 5px rgba(0,0,0,0.1); color: var(--primary-color);
        }

        /* è¾“å…¥æ¡†ä¼˜åŒ– */
        input[type="datetime-local"] {
            width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px;
            font-size: 16px; /* é˜²æ­¢iOSè‡ªåŠ¨æ”¾å¤§ */
            background: #fff; outline: none; -webkit-appearance: none;
        }

        .btn-calculate {
            width: 100%; padding: 14px;
            background: linear-gradient(to right, #2c3e50, #34495e);
            color: white; border: none; border-radius: 8px;
            font-size: 16px; font-weight: bold; cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2); transition: transform 0.1s;
            margin-top: 10px;
        }
        .btn-calculate:active { transform: scale(0.96); }

        #result-area { display: none; padding: 20px; animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- å››æŸ±æ’ç›˜ç½‘æ ¼ (ç§»åŠ¨ç«¯æ ¸å¿ƒä¼˜åŒ–) --- */
        .bazi-grid {
            display: grid; 
            grid-template-columns: repeat(4, 1fr); 
            gap: 4px; /* æçª„é—´è· */
            margin-bottom: 20px; 
            background: #fffcf5; 
            padding: 10px 5px; /* å‡å°å†…è¾¹è· */
            border-radius: 8px; 
            border: 1px solid #eee;
        }
        .pillar { display: flex; flex-direction: column; align-items: center; }
        .pillar-head { font-size: 11px; color: #999; margin-bottom: 4px; transform: scale(0.9); }
        
        .gan, .zhi {
            font-size: 20px; font-weight: bold; 
            width: 34px; height: 34px; /* ç¨å¾®ç¼©å°åœ†åœˆ */
            display: flex; align-items: center; justify-content: center;
            border-radius: 50%; /* åœ†å½¢èƒŒæ™¯å¯èƒ½ */
        }
        .cang-gan { 
            font-size: 10px; color: #7f8c8d; margin-top: 2px; 
            transform: scale(0.85); white-space: nowrap; /* é˜²æ­¢æ¢è¡Œ */
        }
        .shishen-tag { 
            font-size: 10px; color: #e67e22; margin-bottom: 2px; 
            font-weight: bold; transform: scale(0.9); white-space: nowrap;
        }

        /* æ¨¡å—å¡ç‰‡ */
        .module-card { margin-bottom: 15px; border-left: 3px solid var(--primary-color); padding-left: 12px; }
        .module-title { font-size: 16px; font-weight: bold; margin-bottom: 8px; color: #2c3e50; display: flex; align-items: center;}
        .content-text { font-size: 14px; line-height: 1.6; color: #444; text-align: justify; }
        
        .highlight { font-weight: bold; color: var(--primary-color); }
        .highlight-fire { color: var(--warm-color); font-weight: bold; }
        .highlight-water { color: var(--cold-color); font-weight: bold; }
        
        .badge {
            display: inline-block; background: #f0f0f0; color: #333; padding: 1px 5px; 
            border-radius: 3px; font-size: 10px; margin-right: 3px; border: 1px solid #ddd;
            vertical-align: middle;
        }
        .badge-siling { background: #fff3cd; color: #856404; border-color: #ffeeba; }

        /* å¤§è¿æ¨ªå‘æ»šåŠ¨æ¡ */
        .dayun-scroll {
            display: flex; overflow-x: auto; gap: 8px; padding-bottom: 5px; margin-top: 10px;
            -webkit-overflow-scrolling: touch; /* iOSé¡ºæ»‘æ»šåŠ¨ */
        }
        .dayun-item {
            flex: 0 0 auto; /* é˜²æ­¢å‹ç¼© */
            min-width: 55px; text-align: center; font-size: 11px; padding: 6px 4px;
            background: #f8f9fa; border-radius: 6px; border: 1px solid #eee;
        }
        .dayun-item strong { font-size: 13px; display: block; margin-bottom: 2px; }
        .dayun-item.active {
            background: var(--primary-color); color: #fff; border-color: var(--primary-color);
            box-shadow: 0 2px 6px rgba(142, 68, 173, 0.3);
        }

        /* --- é’ˆå¯¹å°å±å¹•æ‰‹æœºçš„é¢å¤–é€‚é… --- */
        @media screen and (max-width: 360px) {
            .container { margin: 0; border-radius: 0; box-shadow: none; }
            .header { padding: 20px 15px; }
            .input-section { padding: 15px; }
            .gan, .zhi { font-size: 18px; width: 30px; height: 30px; }
            .dayun-item { min-width: 50px; }
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>ğŸ”® å‘½è¿é»‘ç›’Â·çœŸè¯ ç‰ˆ</h1>
        <p>çœŸç¥å¸ä»¤ Â· æ ¼å±€é«˜ä½ Â· è°ƒå€™ç—…è¯</p>
    </div>

    <div id="error-msg" style="display:none; background:#e74c3c; color:#fff; padding:10px; text-align:center; font-size:14px;">
        âš ï¸ æ ¸å¿ƒåº“æœªåŠ è½½ï¼Œè¯·åˆ·æ–°é¡µé¢
    </div>

    <div class="input-section">
        <div class="form-group">
            <label class="label">å‘½é€ æ€§åˆ«</label>
            <div class="gender-switch">
                <input type="radio" name="gender" id="gender-male" value="1" checked>
                <label for="gender-male">ä¹¾é€  (ç”·)</label>
                <input type="radio" name="gender" id="gender-female" value="0">
                <label for="gender-female">å¤é€  (å¥³)</label>
            </div>
        </div>

        <div class="form-group">
            <label class="label">å‡ºç”Ÿæ—¶é—´ (é˜³å†)</label>
            <input type="datetime-local" id="solar-date">
        </div>

        <button class="btn-calculate" onclick="calculate()">ğŸ” å¼€å§‹æ’ç›˜æ¨æ¼”</button>
    </div>

    <div id="result-area">
        <div class="bazi-grid">
            <div class="pillar">
                <div class="pillar-head">å¹´æŸ±</div>
                <div class="shishen-tag" id="year-shishen"></div>
                <div class="gan" id="year-gan"></div>
                <div class="zhi" id="year-zhi"></div>
                <div class="cang-gan" id="year-cang"></div>
            </div>
            <div class="pillar">
                <div class="pillar-head">æœˆæŸ±</div>
                <div class="shishen-tag" id="month-shishen"></div>
                <div class="gan" id="month-gan"></div>
                <div class="zhi" id="month-zhi"></div>
                <div class="cang-gan" id="month-cang"></div>
            </div>
            <div class="pillar">
                <div class="pillar-head">æ—¥æŸ±</div>
                <div class="shishen-tag" style="background:var(--primary-color); color:#fff; padding:0 3px; border-radius:2px;">æ—¥å…ƒ</div>
                <div class="gan" id="day-gan"></div>
                <div class="zhi" id="day-zhi"></div>
                <div class="cang-gan" id="day-cang"></div>
            </div>
            <div class="pillar">
                <div class="pillar-head">æ—¶æŸ±</div>
                <div class="shishen-tag" id="hour-shishen"></div>
                <div class="gan" id="hour-gan"></div>
                <div class="zhi" id="hour-zhi"></div>
                <div class="cang-gan" id="hour-cang"></div>
            </div>
        </div>

        <div class="module-card">
            <div class="module-title">âš–ï¸ å¸ä»¤ä¸å¼ºå¼±</div>
            <div class="content-text" id="strength-analysis"></div>
        </div>

        <div class="module-card">
            <div class="module-title">ğŸ§¬ æ ¼å±€ä¸æ„è±¡</div>
            <div class="content-text" id="pattern-analysis"></div>
        </div>

        <div class="module-card">
            <div class="module-title">ğŸŒ¡ï¸ è°ƒå€™ä¸å–œå¿Œ</div>
            <div class="content-text" id="climate-analysis"></div>
        </div>

        <div class="module-card">
            <div class="module-title">ğŸ’¡ ç»´åº¦æ·±åº¦å»ºè®®</div>
            <div class="content-text">
                <p><strong>ğŸ’¼ äº‹ä¸šï¼š</strong><span id="career-text"></span></p>
                <div style="height:8px"></div>
                <p><strong>ğŸ’° è´¢å¯Œï¼š</strong><span id="wealth-text"></span></p>
                <div style="height:8px"></div>
                <p><strong>â¤ï¸ æƒ…æ„Ÿï¼š</strong><span id="love-text"></span></p>
                <div style="height:8px"></div>
                <p><strong>ğŸ‘¶ å­å¥³ï¼š</strong><span id="kids-text"></span></p>
            </div>
        </div>

        <div class="module-card" style="border-left-color: #2c3e50;">
            <div class="module-title">ğŸš€ å¤§è¿è¶‹åŠ¿</div>
            <div class="content-text">
                <div id="current-dayun-info" style="font-weight:bold; margin-bottom:5px; color:var(--primary-color); font-size:15px;"></div>
                <div id="dayun-analysis" style="margin-bottom:10px;"></div>
                <div style="font-size:11px; color:#999; margin-bottom:5px;">(å·¦å³æ»‘åŠ¨æŸ¥çœ‹æ›´å¤š)</div>
                <div class="dayun-scroll" id="dayun-list"></div>
            </div>
        </div>
        
        <div style="text-align:center; font-size:11px; color:#ccc; margin-top:20px; padding-bottom:10px;">
            Based on Traditional Bazi Logic
        </div>
    </div>
</div>

<script>
    // --- æ•°æ®å­—å…¸ ---
    const GAN_WUXING = { 'ç”²':'æœ¨', 'ä¹™':'æœ¨', 'ä¸™':'ç«', 'ä¸':'ç«', 'æˆŠ':'åœŸ', 'å·±':'åœŸ', 'åºš':'é‡‘', 'è¾›':'é‡‘', 'å£¬':'æ°´', 'ç™¸':'æ°´' };
    const ZHI_WUXING = { 'å­':'æ°´', 'äº¥':'æ°´', 'å¯…':'æœ¨', 'å¯':'æœ¨', 'å·³':'ç«', 'åˆ':'ç«', 'ç”³':'é‡‘', 'é…‰':'é‡‘', 'è¾°':'åœŸ', 'æˆŒ':'åœŸ', 'ä¸‘':'åœŸ', 'æœª':'åœŸ' };
    const GAN_YINYANG = { 'ç”²':1, 'ä¹™':0, 'ä¸™':1, 'ä¸':0, 'æˆŠ':1, 'å·±':0, 'åºš':1, 'è¾›':0, 'å£¬':1, 'ç™¸':0 };
    
    // ç”Ÿå…‹å…³ç³»
    const WUXING_REL = {
        'æœ¨': { sheng:'ç«', ke:'åœŸ', be_sheng:'æ°´', be_ke:'é‡‘' },
        'ç«': { sheng:'åœŸ', ke:'é‡‘', be_sheng:'æœ¨', be_ke:'æ°´' },
        'åœŸ': { sheng:'é‡‘', ke:'æ°´', be_sheng:'ç«', be_ke:'æœ¨' },
        'é‡‘': { sheng:'æ°´', ke:'æœ¨', be_sheng:'åœŸ', be_ke:'ç«' },
        'æ°´': { sheng:'æœ¨', ke:'ç«', be_sheng:'é‡‘', be_ke:'åœŸ' }
    };

    // å¸ä»¤åˆ†é‡è¡¨
    const SI_LING_DATA = {
        'å¯…': [['æˆŠ',7], ['ä¸™',7], ['ç”²',16]],
        'å¯': [['ç”²',10], ['ä¹™',20]],
        'è¾°': [['ä¹™',9], ['ç™¸',3], ['æˆŠ',18]],
        'å·³': [['æˆŠ',5], ['åºš',9], ['ä¸™',16]],
        'åˆ': [['ä¸™',10], ['å·±',9], ['ä¸',11]],
        'æœª': [['ä¸',9], ['ä¹™',3], ['å·±',18]],
        'ç”³': [['æˆŠ',7], ['å£¬',7], ['åºš',16]],
        'é…‰': [['åºš',10], ['è¾›',20]],
        'æˆŒ': [['è¾›',9], ['ä¸',3], ['æˆŠ',18]],
        'äº¥': [['æˆŠ',7], ['ç”²',7], ['å£¬',16]],
        'å­': [['å£¬',10], ['ç™¸',20]],
        'ä¸‘': [['ç™¸',9], ['è¾›',3], ['å·±',18]]
    };

    // åˆå§‹åŒ–
    window.onload = function() {
        if(typeof Solar === 'undefined') {
            document.getElementById('error-msg').style.display = 'block';
            document.querySelector('.btn-calculate').disabled = true;
            document.querySelector('.btn-calculate').innerText = "åŠ è½½å¤±è´¥";
        } else {
            let now = new Date();
            now.setMinutes(now.getMinutes() - now.getTimezoneOffset());
            document.getElementById('solar-date').value = now.toISOString().slice(0,16);
        }
    };

    // --- åç¥è®¡ç®— ---
    function getTenGod(dm, target) {
        if(!dm || !target) return "";
        const dmWx = GAN_WUXING[dm];
        const targetWx = GAN_WUXING[target];
        const samePol = GAN_YINYANG[dm] === GAN_YINYANG[target];

        if (dmWx === targetWx) return samePol ? 'æ¯”è‚©' : 'åŠ«è´¢';
        if (WUXING_REL[dmWx].be_sheng === targetWx) return samePol ? 'é£Ÿç¥' : 'ä¼¤å®˜';
        if (WUXING_REL[dmWx].be_ke === targetWx) return samePol ? 'åè´¢' : 'æ­£è´¢';
        if (WUXING_REL[dmWx].ke === targetWx) return samePol ? 'ä¸ƒæ€' : 'æ­£å®˜';
        if (WUXING_REL[dmWx].sheng === targetWx) return samePol ? 'åå°' : 'æ­£å°';
        return '';
    }

    // --- æ ¸å¿ƒè®¡ç®— ---
    function calculate() {
        try {
            const dateStr = document.getElementById('solar-date').value;
            if(!dateStr) { alert("è¯·è¾“å…¥å‡ºç”Ÿæ—¶é—´"); return; }
            const gender = parseInt(document.querySelector('input[name="gender"]:checked').value);
            
            const d = new Date(dateStr);
            const solar = Solar.fromYmdHms(d.getFullYear(), d.getMonth()+1, d.getDate(), d.getHours(), d.getMinutes(), 0);
            const lunar = solar.getLunar();
            const eightChar = lunar.getEightChar();
            
            // å››æŸ±æ•°æ® (å¼ºåˆ¶è½¬å­—ç¬¦)
            const p = {
                y: { g: String(eightChar.getYearGan()), z: String(eightChar.getYearZhi()) },
                m: { g: String(eightChar.getMonthGan()), z: String(eightChar.getMonthZhi()) },
                d: { g: String(eightChar.getDayGan()), z: String(eightChar.getDayZhi()) },
                h: { g: String(eightChar.getTimeGan()), z: String(eightChar.getTimeZhi()) }
            };
            
            const dm = p.d.g;
            const mz = p.m.z;
            
            // 1. è®¡ç®—äººå…ƒå¸ä»¤
            const siLingInfo = calcSiLing(solar, lunar, mz);
            
            // 2. æ¸²æŸ“UI
            renderPillars(p, dm, eightChar);
            
            // 3. åˆ†æå¼ºå¼±
            const strengthObj = analyzeStrength(dm, mz, siLingInfo, p);
            
            // 4. åˆ†ææ ¼å±€ä¸è°ƒå€™
            const patternObj = analyzePattern(p, dm, mz, strengthObj);
            
            // 5. ç»´åº¦å»ºè®®
            analyzeDimensions(p, dm, gender, patternObj, strengthObj);
            
            // 6. å¤§è¿
            renderDaYun(eightChar, gender, p, patternObj);

            document.getElementById('result-area').style.display = 'block';
            
            // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
            setTimeout(() => {
                document.getElementById('result-area').scrollIntoView({ behavior: 'smooth' });
            }, 100);

        } catch(e) {
            console.error(e);
            alert("æ¨æ¼”å‘ç”Ÿé”™è¯¯ï¼š" + e.message);
        }
    }

    // è®¡ç®—çœŸç¥å¸ä»¤
    function calcSiLing(solar, lunar, mz) {
        const prevJie = lunar.getPrevJie();
        const daysOffset = Math.floor((solar.getJulianDay() - prevJie.getSolar().getJulianDay()));
        const config = SI_LING_DATA[mz];
        let daysCount = 0;
        let commander = "";
        
        for(let item of config) {
            daysCount += item[1];
            if(daysOffset < daysCount) {
                commander = item[0];
                break;
            }
        }
        if(!commander) commander = config[config.length-1][0];
        return { gan: commander, days: daysOffset, jieName: prevJie.getName() };
    }

    // åˆ†æå¼ºå¼±
    function analyzeStrength(dm, mz, siLing, p) {
        const dmWx = GAN_WUXING[dm];
        const mzWx = ZHI_WUXING[mz]; 
        const siLingWx = GAN_WUXING[siLing.gan]; 
        
        let html = `<p><span class="badge badge-siling">çœŸç¥</span> å‡ºç”Ÿäº${siLing.jieName}åç¬¬ <strong>${siLing.days}</strong> å¤©ï¼Œ<strong>${siLing.gan}</strong> (${siLingWx}) æŒæƒã€‚</p>`;
        
        let menStatus = (mzWx === dmWx || WUXING_REL[dmWx].sheng === mzWx) ? "æ—º" : "è¡°";
        let diStatus = (siLingWx === dmWx || WUXING_REL[dmWx].sheng === siLingWx) ? "æ—º" : "è¡°";
        
        let isStrong = false;
        if (dm === 'å·±' && mz === 'è¾°' && siLing.gan === 'æˆŠ') {
            html += `<p><strong>å¾—æƒå¾—åŠ¿ï¼š</strong>å·±åœŸç”Ÿäºè¾°æœˆï¼ŒæˆŠåœŸåŠ«è´¢å½“ä»¤ã€‚åœŸæ°”åšé‡ï¼Œèº«å¼ºã€‚</p>`;
            isStrong = true;
        } else if (menStatus === "æ—º" && diStatus === "æ—º") {
            html += `<p><strong>å¾—ä»¤å¾—æƒï¼š</strong>æœˆä»¤å’Œå¸ä»¤çš†åŠ©èº«ï¼Œèº«å¼ºæ— ç–‘ï¼Œèƒ½é‡å……æ²›ã€‚</p>`;
            isStrong = true;
        } else if (menStatus === "æ—º" && diStatus === "è¡°") {
            html += `<p><strong>é—¨æ—ºåœ°è¡°ï¼š</strong>æœˆä»¤è¡¨é¢åŠ©èº«ï¼Œä½†å¸ä»¤ä¹‹ç¥ä¸åŠ©èº«ï¼Œå±äºâ€œè™šæ—ºâ€ï¼Œèº«æ—ºæœ‰æŠ˜æ‰£ã€‚</p>`;
            isStrong = false; 
        } else {
            html += `<p><strong>å¤±ä»¤å¤±æƒï¼š</strong>æœˆä»¤ä¸åŠ©èº«ï¼Œå¸ä»¤äº¦ä¸åŠ©ï¼Œèº«åå¼±ï¼Œå–œç”Ÿæ‰¶ã€‚</p>`;
            isStrong = false;
        }
        
        document.getElementById('strength-analysis').innerHTML = html;
        return { isStrong, siLingWx };
    }

    // åˆ†ææ ¼å±€ä¸è°ƒå€™
    function analyzePattern(p, dm, mz, strength) {
        let html = "";
        let patterns = [];
        
        const yGan = p.y.g; const mGan = p.m.g; const hGan = p.h.g;
        const gods = [getTenGod(dm, yGan), getTenGod(dm, mGan), getTenGod(dm, hGan)];
        
        // ç‰¹æ®Šç»„åˆæ‰«æ
        if ((yGan === 'ä¹™' && mGan === 'åºš') || (yGan === 'åºš' && mGan === 'ä¹™')) {
            patterns.push("ä¼¤å®˜åˆæ€");
            html += `<p><span class="badge">æ ¼å±€</span> <strong>ä¼¤å®˜åˆæ€ï¼š</strong>å¤©å¹²ä¹™åºšåˆã€‚å–„ç”¨æ™ºæ…§ï¼ˆåºš/ä¼¤ï¼‰åŒ–è§£å‹åŠ›ï¼ˆä¹™/æ€ï¼‰ï¼ŒåŒ–æ•Œä¸ºå‹çš„é«˜çº§é…ç½®ã€‚</p>`;
        }
        if (yGan === 'ç”²' || mGan === 'ç”²' || hGan === 'ç”²') {
            if(dm === 'å·±') {
                patterns.push<think>vising Mobile Layout**

I've been wrestling with the existing Bazi code, specifically its mobile responsiveness. The goal is to make it display correctly on smaller screens. I'm currently exploring CSS media queries as a potential solution to dynamically adjust the layout based on screen size, ensuring a seamless user experience across devices. I'm considering using percentage-based widths and flexible grids to achieve the desired adaptability.


**Analyzing Mobile Constraints**

I'm now focusing on the specific constraints of mobile displays, like the user's issue with horizontal scrolling. My mental walkthrough of the existing code highlights the fixed maximum width and the 4-column grid as potential culprits. I'm thinking of reducing margins, tweaking font sizes, and adjusting the grid layout for smaller screens. I also need to ensure the main container adapts to the viewport width, particularly for elements with horizontal scrolling, to provide an optimal user experience.


**Optimizing Mobile Display**

I'm now prioritizing the container's width, aiming for 100% with zero margins on mobile. Also, I'm removing the body's hard-coded padding. The grid layout needs to stay horizontal to maintain the "Four Pillars" structure, but I plan to minimize gaps and padding for a more compact appearance. I'll switch to `rem` or smaller `px` for font sizes on smaller screens. Finally, I'm expanding date pickers and buttons to be full width, boosting their touch-friendliness.


**Tweaking Mobile Visuals**

\n\n

I'm now focusing on aesthetic adjustments for mobile, aiming for a cleaner, more compact look. I've reduced border radii, tightened grid gaps, and shrunk character and header font sizes. I'm also thinking of expanding the module cards within the `@media` query for better visual balance on smaller displays. I'm prioritizing minimal `body` padding and full-width `.container` on small screens to optimize space.


**Finalizing Mobile Tweaks**

I'm now implementing the fine-tuning steps. I've reduced font sizes for the "Gan/Zhi" circles to prevent line breaks and improved tap-friendliness for the "Gender Switch" and "Date Input" elements. I'm focusing on the code now, decreasing grid and flex gaps on smaller screens to 2px, and adjusting padding and font sizes for a more compact design. I will use `@media` queries to ensure the changes are applied effectively.  I'm also removing padding on smaller screens, and I'll generate the full HTML, highlighting the CSS for mobile.


**Completing Mobile Implementation**

I'm now fully immersed in the final code review. I've ensured all essential elements are present and functional, including the `viewport` tag, media queries, and flexible flex/grid layouts. The JavaScript logic remains intact. I'm focusing on providing the user with a clean, functional `.html` file, highlighting the CSS techniques used, and suggesting it to save it as `.html`. Iâ€™ve kept readability in mind!


